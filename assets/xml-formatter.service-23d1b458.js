import{V as P,bb as v}from"./index-f8ba620c.js";import{w as A}from"./defaults-4d6daddf.js";var T={exports:{}},j={exports:{}};(function(m,u){Object.defineProperty(u,"__esModule",{value:!0}),u.ParsingError=void 0;class g extends Error{constructor(t,i){super(t),this.cause=i}}u.ParsingError=g;let l;function p(){return y(!1)||n()||h()||C()}function f(){return o(/\s*/),y(!0)||h()||b()||E(!1)}function w(){const r=E(!0),t=[];let i,s=f();for(;s;){if(s.node.type==="Element"){if(i)throw new Error("Found multiple root nodes");i=s.node}s.excluded||t.push(s.node),s=f()}if(!i)throw new g("Failed to parse XML","Root Element not found");if(l.xml.length!==0)throw new g("Failed to parse XML","Not Well-Formed XML");return{declaration:r?r.node:null,root:i,children:t}}function E(r){const t=o(r?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!t)return;const i={name:t[1],type:"ProcessingInstruction",attributes:{}};for(;!(d()||a("?>"));){const s=e();if(s)i.attributes[s.name]=s.value;else return}return o(/\?>/),{excluded:r?!1:l.options.filter(i)===!1,node:i}}function y(r){const t=o(/^<([^?!</>\s]+)\s*/);if(!t)return;const i={type:"Element",name:t[1],attributes:{},children:[]},s=r?!1:l.options.filter(i)===!1;for(;!(d()||a(">")||a("?>")||a("/>"));){const S=e();if(S)i.attributes[S.name]=S.value;else return}if(o(/^\s*\/>/))return i.children=null,{excluded:s,node:i};o(/\??>/);let O=p();for(;O;)O.excluded||i.children.push(O.node),O=p();return o(/^<\/\s*[\w-:.\u00C0-\u00FF]+>/),{excluded:s,node:i}}function b(){const r=o(/^<!DOCTYPE\s+[^>]*>/);if(r){const t={type:"DocumentType",content:r[0]};return{excluded:l.options.filter(t)===!1,node:t}}}function C(){if(l.xml.startsWith("<![CDATA[")){const r=l.xml.indexOf("]]>");if(r>-1){const t=r+3,i={type:"CDATA",content:l.xml.substring(0,t)};return l.xml=l.xml.slice(t),{excluded:l.options.filter(i)===!1,node:i}}}}function h(){const r=o(/^<!--[\s\S]*?-->/);if(r){const t={type:"Comment",content:r[0]};return{excluded:l.options.filter(t)===!1,node:t}}}function n(){const r=o(/^([^<]+)/);if(r){const t={type:"Text",content:r[1]};return{excluded:l.options.filter(t)===!1,node:t}}}function e(){const r=o(/([^=]+)\s*=\s*("[^"]*"|'[^']*'|[^>\s]+)\s*/);if(r)return{name:r[1].trim(),value:c(r[2].trim())}}function c(r){return r.replace(/^['"]|['"]$/g,"")}function o(r){const t=l.xml.match(r);if(t)return l.xml=l.xml.slice(t[0].length),t}function d(){return l.xml.length===0}function a(r){return l.xml.indexOf(r)===0}function x(r,t={}){r=r.trim();const i=t.filter||(()=>!0);return l={xml:r,options:Object.assign(Object.assign({},t),{filter:i})},w()}m.exports=x,u.default=x})(j,j.exports);var X=j.exports;(function(m,u){var g=v&&v.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(u,"__esModule",{value:!0});const l=g(X);function p(n){if(!n.options.indentation&&!n.options.lineSeparator)return;n.content+=n.options.lineSeparator;let e;for(e=0;e<n.level;e++)n.content+=n.options.indentation}function f(n,e){n.content+=e}function w(n,e,c){if(typeof n.content=="string")E(n.content,e,c);else if(n.type==="Element")y(n,e,c);else if(n.type==="ProcessingInstruction")C(n,e);else throw new Error("Unknown node type: "+n.type)}function E(n,e,c){if(!c){const o=n.trim();(e.options.lineSeparator||o.length===0)&&(n=o)}n.length>0&&(!c&&e.content.length>0&&p(e),f(e,n))}function y(n,e,c){if(!c&&e.content.length>0&&p(e),f(e,"<"+n.name),b(e,n.attributes),n.children===null){const o=e.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";f(e,o)}else if(n.children.length===0)f(e,"></"+n.name+">");else{const o=n.children;f(e,">"),e.level++;let d=n.attributes["xml:space"]==="preserve";if(!d&&e.options.collapseContent){let a=!1,x=!1,r=!1;o.forEach(function(t,i){t.type==="Text"?(t.content.includes(`
`)?(x=!0,t.content=t.content.trim()):(i===0||i===o.length-1)&&t.content.trim().length===0&&(t.content=""),t.content.trim().length>0&&(a=!0)):t.type==="CDATA"?a=!0:r=!0}),a&&(!r||!x)&&(d=!0)}o.forEach(function(a){w(a,e,c||d)}),e.level--,!c&&!d&&p(e),f(e,"</"+n.name+">")}}function b(n,e){Object.keys(e).forEach(function(c){const o=e[c].replace(/"/g,"&quot;");f(n," "+c+'="'+o+'"')})}function C(n,e){e.content.length>0&&p(e),f(e,"<?"+n.name),b(e,n.attributes),f(e,"?>")}function h(n,e={}){e.indentation="indentation"in e?e.indentation:"    ",e.collapseContent=e.collapseContent===!0,e.lineSeparator="lineSeparator"in e?e.lineSeparator:`\r
`,e.whiteSpaceAtEndOfSelfclosingTag=e.whiteSpaceAtEndOfSelfclosingTag===!0,e.throwOnFailure=e.throwOnFailure!==!1;try{const c=(0,l.default)(n,{filter:e.filter}),o={content:"",level:0,options:e};return c.declaration&&C(c.declaration,o),c.children.forEach(function(d){w(d,o,!1)}),e.lineSeparator?o.content.replace(/\r\n/g,`
`).replace(/\n/g,e.lineSeparator):o.content}catch(c){if(e.throwOnFailure)throw c;return n}}h.minify=(n,e={})=>h(n,Object.assign(Object.assign({},e),{indentation:"",lineSeparator:""})),m.exports=h,u.default=h})(T,T.exports);var D=T.exports;const _=P(D);function F(m){return m.trim()}function L(m,u){return A(()=>_(F(m),u)??"","")}function R(m){const u=F(m);if(u==="")return!0;try{return _(u),!0}catch{return!1}}export{L as f,R as i};
