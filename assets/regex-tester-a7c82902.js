import{Z as on,d as pi,K as an,L as di,$ as un,b as hs,N as ln,a0 as cn,a1 as ni,a2 as _n,R as ri,V as gi,n as Dt,p as pn,Q as dn,r as hi,o as zt,f as Bt,k as ut,w as ct,i as St,x as Lt,l as pt,c as fi,g as X,F as Qe,h as Ze,t as Ct,y as gn,z as mn,Y as yn}from"./index-f8ba620c.js";import{c as wn}from"./_commonjs-dynamic-modules-302442b1.js";import{u as xn}from"./queryParams-78d9570c.js";import{_ as bn}from"./Checkbox-69698d3c.js";import{i as vn}from"./is-browser-fc34c9a6.js";import{g as Sn}from"./get-slot-1efb97e5.js";import{_ as Tn}from"./Table-13e28290.js";import{_ as Rn}from"./Divider-d68a87f8.js";import"./use-form-item-bb159e87.js";const An=()=>on,Cn={name:"Space",self:An},Nn=Cn;let Ke;const En=()=>{if(!vn)return!0;if(Ke===void 0){const s=document.createElement("div");s.style.display="flex",s.style.flexDirection="column",s.style.rowGap="1px",s.appendChild(document.createElement("div")),s.appendChild(document.createElement("div")),document.body.appendChild(s);const t=s.scrollHeight===1;return document.body.removeChild(s),Ke=t}return Ke},On=Object.assign(Object.assign({},di.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,size:{type:[String,Number,Array],default:"medium"},wrapItem:{type:Boolean,default:!0},itemStyle:[String,Object],wrap:{type:Boolean,default:!0},internalUseGap:{type:Boolean,default:void 0}}),kn=pi({name:"Space",props:On,setup(s){const{mergedClsPrefixRef:t,mergedRtlRef:e}=an(s),i=di("Space","-space",void 0,Nn,s,t),n=un("Space",e,t);return{useGap:En(),rtlEnabled:n,mergedClsPrefix:t,margin:hs(()=>{const{size:r}=s;if(Array.isArray(r))return{horizontal:r[0],vertical:r[1]};if(typeof r=="number")return{horizontal:r,vertical:r};const{self:{[ln("gap",r)]:f}}=i.value,{row:o,col:u}=cn(f);return{horizontal:ni(u),vertical:ni(o)}})}},render(){const{vertical:s,align:t,inline:e,justify:i,itemStyle:n,margin:r,wrap:f,mergedClsPrefix:o,rtlEnabled:u,useGap:_,wrapItem:c,internalUseGap:m}=this,O=_n(Sn(this));if(!O.length)return null;const C=`${r.horizontal}px`,R=`${r.horizontal/2}px`,D=`${r.vertical}px`,M=`${r.vertical/2}px`,P=O.length-1,st=i.startsWith("space-");return ri("div",{role:"none",class:[`${o}-space`,u&&`${o}-space--rtl`],style:{display:e?"inline-flex":"flex",flexDirection:s?"column":"row",justifyContent:["start","end"].includes(i)?"flex-"+i:i,flexWrap:!f||s?"nowrap":"wrap",marginTop:_||s?"":`-${M}`,marginBottom:_||s?"":`-${M}`,alignItems:t,gap:_?`${r.vertical}px ${r.horizontal}px`:""}},!c&&(_||m)?O:O.map((rt,K)=>ri("div",{role:"none",style:[n,{maxWidth:"100%"},_?"":s?{marginBottom:K!==P?D:""}:u?{marginLeft:st?i==="space-between"&&K===P?"":R:K!==P?C:"",marginRight:st?i==="space-between"&&K===0?"":R:"",paddingTop:M,paddingBottom:M}:{marginRight:st?i==="space-between"&&K===P?"":R:K!==P?C:"",marginLeft:st?i==="space-between"&&K===0?"":R:"",paddingTop:M,paddingBottom:M}]},rt)))}});var ws={exports:{}},mi={},qe={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7},Mt={};const G=qe,xs=()=>[{type:G.RANGE,from:48,to:57}],yi=()=>[{type:G.CHAR,value:95},{type:G.RANGE,from:97,to:122},{type:G.RANGE,from:65,to:90}].concat(xs()),wi=()=>[{type:G.CHAR,value:9},{type:G.CHAR,value:10},{type:G.CHAR,value:11},{type:G.CHAR,value:12},{type:G.CHAR,value:13},{type:G.CHAR,value:32},{type:G.CHAR,value:160},{type:G.CHAR,value:5760},{type:G.RANGE,from:8192,to:8202},{type:G.CHAR,value:8232},{type:G.CHAR,value:8233},{type:G.CHAR,value:8239},{type:G.CHAR,value:8287},{type:G.CHAR,value:12288},{type:G.CHAR,value:65279}],zn=()=>[{type:G.CHAR,value:10},{type:G.CHAR,value:13},{type:G.CHAR,value:8232},{type:G.CHAR,value:8233}];Mt.words=()=>({type:G.SET,set:yi(),not:!1});Mt.notWords=()=>({type:G.SET,set:yi(),not:!0});Mt.ints=()=>({type:G.SET,set:xs(),not:!1});Mt.notInts=()=>({type:G.SET,set:xs(),not:!0});Mt.whitespace=()=>({type:G.SET,set:wi(),not:!1});Mt.notWhitespace=()=>({type:G.SET,set:wi(),not:!0});Mt.anyChar=()=>({type:G.SET,set:zn(),not:!0});(function(s){const t=qe,e=Mt,i="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?",n={0:0,t:9,n:10,v:11,f:12,r:13};s.strToChars=function(r){var f=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return r=r.replace(f,function(o,u,_,c,m,O,C,R){if(_)return o;var D=u?8:c?parseInt(c,16):m?parseInt(m,16):O?parseInt(O,8):C?i.indexOf(C):n[R],M=String.fromCharCode(D);return/[[\]{}^$.|?*+()]/.test(M)&&(M="\\"+M),M}),r},s.tokenizeClass=(r,f)=>{for(var o=[],u=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g,_,c;(_=u.exec(r))!=null;)if(_[1])o.push(e.words());else if(_[2])o.push(e.ints());else if(_[3])o.push(e.whitespace());else if(_[4])o.push(e.notWords());else if(_[5])o.push(e.notInts());else if(_[6])o.push(e.notWhitespace());else if(_[7])o.push({type:t.RANGE,from:(_[8]||_[9]).charCodeAt(0),to:_[10].charCodeAt(0)});else if(c=_[12])o.push({type:t.CHAR,value:c.charCodeAt(0)});else return[o,u.lastIndex];s.error(f,"Unterminated character class")},s.error=(r,f)=>{throw new SyntaxError("Invalid regular expression: /"+r+"/: "+f)}})(mi);var we={};const Fe=qe;we.wordBoundary=()=>({type:Fe.POSITION,value:"b"});we.nonWordBoundary=()=>({type:Fe.POSITION,value:"B"});we.begin=()=>({type:Fe.POSITION,value:"^"});we.end=()=>({type:Fe.POSITION,value:"$"});const Zt=mi,Tt=qe,Ht=Mt,$e=we;ws.exports=s=>{var t=0,e,i,n={type:Tt.ROOT,stack:[]},r=n,f=n.stack,o=[],u=P=>{Zt.error(s,`Nothing to repeat at column ${P-1}`)},_=Zt.strToChars(s);for(e=_.length;t<e;)switch(i=_[t++],i){case"\\":switch(i=_[t++],i){case"b":f.push($e.wordBoundary());break;case"B":f.push($e.nonWordBoundary());break;case"w":f.push(Ht.words());break;case"W":f.push(Ht.notWords());break;case"d":f.push(Ht.ints());break;case"D":f.push(Ht.notInts());break;case"s":f.push(Ht.whitespace());break;case"S":f.push(Ht.notWhitespace());break;default:/\d/.test(i)?f.push({type:Tt.REFERENCE,value:parseInt(i,10)}):f.push({type:Tt.CHAR,value:i.charCodeAt(0)})}break;case"^":f.push($e.begin());break;case"$":f.push($e.end());break;case"[":var c;_[t]==="^"?(c=!0,t++):c=!1;var m=Zt.tokenizeClass(_.slice(t),s);t+=m[1],f.push({type:Tt.SET,set:m[0],not:c});break;case".":f.push(Ht.anyChar());break;case"(":var O={type:Tt.GROUP,stack:[],remember:!0};i=_[t],i==="?"&&(i=_[t+1],t+=2,i==="="?O.followedBy=!0:i==="!"?O.notFollowedBy=!0:i!==":"&&Zt.error(s,`Invalid group, character '${i}' after '?' at column ${t-1}`),O.remember=!1),f.push(O),o.push(r),r=O,f=O.stack;break;case")":o.length===0&&Zt.error(s,`Unmatched ) at column ${t-1}`),r=o.pop(),f=r.options?r.options[r.options.length-1]:r.stack;break;case"|":r.options||(r.options=[r.stack],delete r.stack);var C=[];r.options.push(C),f=C;break;case"{":var R=/^(\d+)(,(\d+)?)?\}/.exec(_.slice(t)),D,M;R!==null?(f.length===0&&u(t),D=parseInt(R[1],10),M=R[2]?R[3]?parseInt(R[3],10):1/0:D,t+=R[0].length,f.push({type:Tt.REPETITION,min:D,max:M,value:f.pop()})):f.push({type:Tt.CHAR,value:123});break;case"?":f.length===0&&u(t),f.push({type:Tt.REPETITION,min:0,max:1,value:f.pop()});break;case"+":f.length===0&&u(t),f.push({type:Tt.REPETITION,min:1,max:1/0,value:f.pop()});break;case"*":f.length===0&&u(t),f.push({type:Tt.REPETITION,min:0,max:1/0,value:f.pop()});break;default:f.push({type:Tt.CHAR,value:i.charCodeAt(0)})}return o.length!==0&&Zt.error(s,"Unterminated group"),n};ws.exports.types=Tt;var Mn=ws.exports;class Et{constructor(t,e){this.low=t,this.high=e,this.length=1+e-t}overlaps(t){return!(this.high<t.low||this.low>t.high)}touches(t){return!(this.high+1<t.low||this.low-1>t.high)}add(t){return new Et(Math.min(this.low,t.low),Math.max(this.high,t.high))}subtract(t){return t.low<=this.low&&t.high>=this.high?[]:t.low>this.low&&t.high<this.high?[new Et(this.low,t.low-1),new Et(t.high+1,this.high)]:t.low<=this.low?[new Et(t.high+1,this.high)]:[new Et(this.low,t.low-1)]}toString(){return this.low==this.high?this.low.toString():this.low+"-"+this.high}}let $n=class _e{constructor(t,e){this.ranges=[],this.length=0,t!=null&&this.add(t,e)}_update_length(){this.length=this.ranges.reduce((t,e)=>t+e.length,0)}add(t,e){var i=n=>{for(var r=0;r<this.ranges.length&&!n.touches(this.ranges[r]);)r++;for(var f=this.ranges.slice(0,r);r<this.ranges.length&&n.touches(this.ranges[r]);)n=n.add(this.ranges[r]),r++;f.push(n),this.ranges=f.concat(this.ranges.slice(r)),this._update_length()};return t instanceof _e?t.ranges.forEach(i):(e==null&&(e=t),i(new Et(t,e))),this}subtract(t,e){var i=n=>{for(var r=0;r<this.ranges.length&&!n.overlaps(this.ranges[r]);)r++;for(var f=this.ranges.slice(0,r);r<this.ranges.length&&n.overlaps(this.ranges[r]);)f=f.concat(this.ranges[r].subtract(n)),r++;this.ranges=f.concat(this.ranges.slice(r)),this._update_length()};return t instanceof _e?t.ranges.forEach(i):(e==null&&(e=t),i(new Et(t,e))),this}intersect(t,e){var i=[],n=r=>{for(var f=0;f<this.ranges.length&&!r.overlaps(this.ranges[f]);)f++;for(;f<this.ranges.length&&r.overlaps(this.ranges[f]);){var o=Math.max(this.ranges[f].low,r.low),u=Math.min(this.ranges[f].high,r.high);i.push(new Et(o,u)),f++}};return t instanceof _e?t.ranges.forEach(n):(e==null&&(e=t),n(new Et(t,e))),this.ranges=i,this._update_length(),this}index(t){for(var e=0;e<this.ranges.length&&this.ranges[e].length<=t;)t-=this.ranges[e].length,e++;return this.ranges[e].low+t}toString(){return"[ "+this.ranges.join(", ")+" ]"}clone(){return new _e(this)}numbers(){return this.ranges.reduce((t,e)=>{for(var i=e.low;i<=e.high;)t.push(i),i++;return t},[])}subranges(){return this.ranges.map(t=>({low:t.low,high:t.high,length:1+t.high-t.low}))}};var In=$n;const Ie=Mn,ue=In,Ut=Ie.types;var jn=class pe{constructor(t,e){if(this._setDefaults(t),t instanceof RegExp)this.ignoreCase=t.ignoreCase,this.multiline=t.multiline,t=t.source;else if(typeof t=="string")this.ignoreCase=e&&e.indexOf("i")!==-1,this.multiline=e&&e.indexOf("m")!==-1;else throw new Error("Expected a regexp or string");this.tokens=Ie(t)}_setDefaults(t){this.max=t.max!=null?t.max:pe.prototype.max!=null?pe.prototype.max:100,this.defaultRange=t.defaultRange?t.defaultRange:this.defaultRange.clone(),t.randInt&&(this.randInt=t.randInt)}gen(){return this._gen(this.tokens,[])}_gen(t,e){var i,n,r,f,o;switch(t.type){case Ut.ROOT:case Ut.GROUP:if(t.followedBy||t.notFollowedBy)return"";for(t.remember&&t.groupNumber===void 0&&(t.groupNumber=e.push(null)-1),i=t.options?this._randSelect(t.options):t.stack,n="",f=0,o=i.length;f<o;f++)n+=this._gen(i[f],e);return t.remember&&(e[t.groupNumber]=n),n;case Ut.POSITION:return"";case Ut.SET:var u=this._expand(t);return u.length?String.fromCharCode(this._randSelect(u)):"";case Ut.REPETITION:for(r=this.randInt(t.min,t.max===1/0?t.min+this.max:t.max),n="",f=0;f<r;f++)n+=this._gen(t.value,e);return n;case Ut.REFERENCE:return e[t.value-1]||"";case Ut.CHAR:var _=this.ignoreCase&&this._randBool()?this._toOtherCase(t.value):t.value;return String.fromCharCode(_)}}_toOtherCase(t){return t+(97<=t&&t<=122?-32:65<=t&&t<=90?32:0)}_randBool(){return!this.randInt(0,1)}_randSelect(t){return t instanceof ue?t.index(this.randInt(0,t.length-1)):t[this.randInt(0,t.length-1)]}_expand(t){if(t.type===Ie.types.CHAR)return new ue(t.value);if(t.type===Ie.types.RANGE)return new ue(t.from,t.to);{let e=new ue;for(let i=0;i<t.set.length;i++){let n=this._expand(t.set[i]);if(e.add(n),this.ignoreCase)for(let r=0;r<n.length;r++){let f=n.index(r),o=this._toOtherCase(f);f!==o&&e.add(o)}}return t.not?this.defaultRange.clone().subtract(e):this.defaultRange.clone().intersect(e)}}randInt(t,e){return t+Math.floor(Math.random()*(1+e-t))}get defaultRange(){return this._range=this._range||new ue(32,126)}set defaultRange(t){this._range=t}static randexp(t,e){var i;return typeof t=="string"&&(t=new RegExp(t,e)),t._randexp===void 0?(i=new pe(t,e),t._randexp=i):(i=t._randexp,i._setDefaults(t)),i.gen()}static sugar(){RegExp.prototype.gen=function(){return pe.randexp(this)}}};const Dn=gi(jn);var xi={};(function(s){(function(){function t(a,w,l){this.text=a,this.offset=w,this.elements=l}t.prototype.forEach=function(a,w){for(var l=this.elements,y=0,p=l.length;y<p;y++)a.call(w,l[y],y,l)},typeof Symbol<"u"&&Symbol.iterator&&(t.prototype[Symbol.iterator]=function(){return this.elements[Symbol.iterator]()});var e=function(a,w,l){t.apply(this,arguments),this.regexp=l[1],this.flags=l[3]};H(e,t);var i=function(a,w,l){t.apply(this,arguments),this.regexp=l[0],this.flags=l[1]};H(i,t);var n=function(a,w,l){t.apply(this,arguments),this.match=l[0],this.alternates=l[1]};H(n,t);var r=function(a,w,l){t.apply(this,arguments),this.match=l[1]};H(r,t);var f=function(a,w,l){t.apply(this,arguments),this.parts=l[1]};H(f,t);var o=function(a,w,l){t.apply(this,arguments),this.content=l[0],this.repeat=l[1]};H(o,t);var u=function(a,w,l){t.apply(this,arguments),this.spec=l[0],this.greedy=l[1]};H(u,t);var _=function(a,w,l){t.apply(this,arguments),this.min=l[1],this.max=l[3]};H(_,t);var c=function(a,w,l){t.apply(this,arguments),this.min=l[1]};H(c,t);var m=function(a,w,l){t.apply(this,arguments),this.exact=l[1]};H(m,t);var O=function(a,w,l){t.apply(this,arguments),this.capture=l[1],this.regexp=l[2]};H(O,t);var C=function(a,w,l){t.apply(this,arguments),this.invert=l[1],this.parts=l[2]};H(C,t);var R=function(a,w,l){t.apply(this,arguments),this.first=l[0],this.charset_range_terminal=l[2],this.last=l[2]};H(R,t);var D=function(a,w,l){t.apply(this,arguments),this.esc=l[1]};H(D,t);var M=function(a,w,l){t.apply(this,arguments),this.code=l[0],this.arg=l[1]};H(M,t);var P=function(a,w,l){t.apply(this,arguments),this.esc=l[1]};H(P,t);var st=function(a,w,l){t.apply(this,arguments),this.code=l[0],this.arg=l[1]};H(st,t);var rt=function(a,w,l){t.apply(this,arguments),this.literal=l[1]};H(rt,t);var K=function(a,w,l){t.apply(this,arguments),this.literal=l[0]};H(K,t);var yt=function(a,w,l){t.apply(this,arguments),this.literal=l[1]};H(yt,t);var bt=function(a,w,l){t.apply(this,arguments),this.literal=l[1]};H(bt,t);var kt=function(a,w,l){t.apply(this,arguments),this.literal=l[0]};H(kt,t);var Y=function(a,w,l){t.apply(this,arguments),this.literal=l[1]};H(Y,t);var at=function(a,w,l){t.apply(this,arguments),this.code=l[0],this.arg=l[1]};H(at,t);var Ls=function(a,w,l){t.apply(this,arguments),this.code=l[0],this.arg=l[1]};H(Ls,t);var Ps=function(a,w,l){t.apply(this,arguments),this.code=l[0],this.arg=l[1]};H(Ps,t);var Js=function(a,w,l){t.apply(this,arguments),this.code=l[0],this.arg=l[1]};H(Js,t);var qs=function(a,w,l){t.apply(this,arguments),this.code=l[0],this.arg=l[1]};H(qs,t);var Fs=function(a,w,l){t.apply(this,arguments),this.esc=l[1]};H(Fs,t);var Bs=function(a,w,l){t.apply(this,arguments),this.code=l[0],this.arg=l[1]};H(Bs,t);var h={},Hs={_read_root(){var a=h,w=this._offset;this._cache._root=this._cache._root||{};var l=this._cache._root[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=this._offset,d=new Array(4),b=h,S=null,g=this._offset+1;if(g<=this._inputSize&&(S=this._input.substring(this._offset,g)),S==="/"?(b=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(b=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::root",'"/"'])),b!==h){d[0]=b;var x=h;if(x=this._read_regexp(),x!==h){d[1]=x;var v=h,T=null,N=this._offset+1;if(N<=this._inputSize&&(T=this._input.substring(this._offset,N)),T==="/"?(v=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(v=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::root",'"/"'])),v!==h){d[2]=v;for(var k=h,z=this._offset,A=[],L=null;;){var q=null,$=this._offset+1;if($<=this._inputSize&&(q=this._input.substring(this._offset,$)),q!==null&&/^[yigmu]/.test(q)?(L=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(L=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::root","[yigmu]"])),L!==h)A.push(L);else break}A.length>=0?(k=new t(this._input.substring(z,this._offset),z,A),this._offset=this._offset):k=h,k!==h?d[3]=k:(d=null,this._offset=p)}else d=null,this._offset=p}else d=null,this._offset=p}else d=null,this._offset=p;if(d===null?a=h:(a=new e(this._input.substring(p,this._offset),p,d),this._offset=this._offset),a===h){this._offset=y;var nt=this._offset,tt=new Array(2),ht=h;if(ht=this._read_regexp(),ht!==h){tt[0]=ht;var et=h,it=this._offset,ft=null,At=this._offset+0;At<=this._inputSize&&(ft=this._input.substring(this._offset,At)),ft===""?(et=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(et=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::root",'""'])),et===h&&(et=new t(this._input.substring(it,it),it,[]),this._offset=it),et!==h?tt[1]=et:(tt=null,this._offset=nt)}else tt=null,this._offset=nt;tt===null?a=h:(a=new i(this._input.substring(nt,this._offset),nt,tt),this._offset=this._offset),a===h&&(this._offset=y)}return a!==h&&Object.assign(a,this._types.Root),this._cache._root[w]=[a,this._offset],a},_read_regexp(){var a=h,w=this._offset;this._cache._regexp=this._cache._regexp||{};var l=this._cache._regexp[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h;if(d=this._read_match(),d!==h){p[0]=d;for(var b=h,S=this._offset,g=[],x=null;;){var v=this._offset,T=new Array(2),N=h,k=null,z=this._offset+1;if(z<=this._inputSize&&(k=this._input.substring(this._offset,z)),k==="|"?(N=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(N=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::regexp",'"|"'])),N!==h){T[0]=N;var A=h;A=this._read_match(),A!==h?T[1]=A:(T=null,this._offset=v)}else T=null,this._offset=v;if(T===null?x=h:(x=new r(this._input.substring(v,this._offset),v,T),this._offset=this._offset),x!==h)g.push(x);else break}g.length>=0?(b=new t(this._input.substring(S,this._offset),S,g),this._offset=this._offset):b=h,b!==h?p[1]=b:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new n(this._input.substring(y,this._offset),y,p),this._offset=this._offset),a!==h&&Object.assign(a,this._types.Regexp),this._cache._regexp[w]=[a,this._offset],a},_read_match(){var a=h,w=this._offset;this._cache._match=this._cache._match||{};var l=this._cache._match[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=this._offset;if(d=this._read_repeat(),this._offset=b,d===h?(d=new t(this._input.substring(this._offset,this._offset),this._offset,[]),this._offset=this._offset):d=h,d!==h){p[0]=d;for(var S=h,g=this._offset,x=[],v=null;v=this._read_match_fragment(),v!==h;)x.push(v);x.length>=0?(S=new t(this._input.substring(g,this._offset),g,x),this._offset=this._offset):S=h,S!==h?p[1]=S:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new f(this._input.substring(y,this._offset),y,p),this._offset=this._offset),a!==h&&Object.assign(a,this._types.Match),this._cache._match[w]=[a,this._offset],a},_read_match_fragment(){var a=h,w=this._offset;this._cache._match_fragment=this._cache._match_fragment||{};var l=this._cache._match_fragment[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=this._offset;if(d=this._read_anchor(),d===h&&(this._offset=b,d=this._read_subexp(),d===h&&(this._offset=b,d=this._read_charset(),d===h&&(this._offset=b,d=this._read_terminal(),d===h&&(this._offset=b)))),d!==h){p[0]=d;var S=h,g=this._offset;S=this._read_repeat(),S===h&&(S=new t(this._input.substring(g,g),g,[]),this._offset=g),S!==h?p[1]=S:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new o(this._input.substring(y,this._offset),y,p),this._offset=this._offset),a!==h&&Object.assign(a,this._types.MatchFragment),this._cache._match_fragment[w]=[a,this._offset],a},_read_repeat(){var a=h,w=this._offset;this._cache._repeat=this._cache._repeat||{};var l=this._cache._repeat[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=this._offset;if(d=this._read_repeat_any(),d===h&&(this._offset=b,d=this._read_repeat_required(),d===h&&(this._offset=b,d=this._read_repeat_optional(),d===h&&(this._offset=b,d=this._read_repeat_spec(),d===h&&(this._offset=b)))),d!==h){p[0]=d;var S=h,g=this._offset,x=null,v=this._offset+1;v<=this._inputSize&&(x=this._input.substring(this._offset,v)),x==="?"?(S=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(S=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat",'"?"'])),S===h&&(S=new t(this._input.substring(g,g),g,[]),this._offset=g),S!==h?p[1]=S:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new u(this._input.substring(y,this._offset),y,p),this._offset=this._offset),a!==h&&Object.assign(a,this._types.Repeat),this._cache._repeat[w]=[a,this._offset],a},_read_repeat_any(){var a=h,w=this._offset;this._cache._repeat_any=this._cache._repeat_any||{};var l=this._cache._repeat_any[w];if(l)return this._offset=l[1],l[0];var y=null,p=this._offset+1;return p<=this._inputSize&&(y=this._input.substring(this._offset,p)),y==="*"?(a=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(a=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_any",'"*"'])),a!==h&&Object.assign(a,this._types.RepeatAny),this._cache._repeat_any[w]=[a,this._offset],a},_read_repeat_required(){var a=h,w=this._offset;this._cache._repeat_required=this._cache._repeat_required||{};var l=this._cache._repeat_required[w];if(l)return this._offset=l[1],l[0];var y=null,p=this._offset+1;return p<=this._inputSize&&(y=this._input.substring(this._offset,p)),y==="+"?(a=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(a=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_required",'"+"'])),a!==h&&Object.assign(a,this._types.RepeatRequired),this._cache._repeat_required[w]=[a,this._offset],a},_read_repeat_optional(){var a=h,w=this._offset;this._cache._repeat_optional=this._cache._repeat_optional||{};var l=this._cache._repeat_optional[w];if(l)return this._offset=l[1],l[0];var y=null,p=this._offset+1;return p<=this._inputSize&&(y=this._input.substring(this._offset,p)),y==="?"?(a=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(a=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_optional",'"?"'])),a!==h&&Object.assign(a,this._types.RepeatOptional),this._cache._repeat_optional[w]=[a,this._offset],a},_read_repeat_spec(){var a=h,w=this._offset;this._cache._repeat_spec=this._cache._repeat_spec||{};var l=this._cache._repeat_spec[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=this._offset,d=new Array(5),b=h,S=null,g=this._offset+1;if(g<=this._inputSize&&(S=this._input.substring(this._offset,g)),S==="{"?(b=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(b=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'"{"'])),b!==h){d[0]=b;for(var x=h,v=this._offset,T=[],N=null;;){var k=null,z=this._offset+1;if(z<=this._inputSize&&(k=this._input.substring(this._offset,z)),k!==null&&/^[0-9]/.test(k)?(N=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(N=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec","[0-9]"])),N!==h)T.push(N);else break}if(T.length>=1?(x=new t(this._input.substring(v,this._offset),v,T),this._offset=this._offset):x=h,x!==h){d[1]=x;var A=h,L=null,q=this._offset+1;if(q<=this._inputSize&&(L=this._input.substring(this._offset,q)),L===","?(A=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(A=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'","'])),A!==h){d[2]=A;for(var $=h,nt=this._offset,tt=[],ht=null;;){var et=null,it=this._offset+1;if(it<=this._inputSize&&(et=this._input.substring(this._offset,it)),et!==null&&/^[0-9]/.test(et)?(ht=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ht=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec","[0-9]"])),ht!==h)tt.push(ht);else break}if(tt.length>=1?($=new t(this._input.substring(nt,this._offset),nt,tt),this._offset=this._offset):$=h,$!==h){d[3]=$;var ft=h,At=null,It=this._offset+1;It<=this._inputSize&&(At=this._input.substring(this._offset,It)),At==="}"?(ft=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ft=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'"}"'])),ft!==h?d[4]=ft:(d=null,this._offset=p)}else d=null,this._offset=p}else d=null,this._offset=p}else d=null,this._offset=p}else d=null,this._offset=p;if(d===null?a=h:(a=new _(this._input.substring(p,this._offset),p,d),this._offset=this._offset),a===h){this._offset=y;var lt=this._offset,vt=new Array(3),Ft=h,Gs=null,Ys=this._offset+1;if(Ys<=this._inputSize&&(Gs=this._input.substring(this._offset,Ys)),Gs==="{"?(Ft=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(Ft=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'"{"'])),Ft!==h){vt[0]=Ft;for(var Ce=h,Ws=this._offset,Ye=[],Ne=null;;){var We=null,Vs=this._offset+1;if(Vs<=this._inputSize&&(We=this._input.substring(this._offset,Vs)),We!==null&&/^[0-9]/.test(We)?(Ne=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(Ne=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec","[0-9]"])),Ne!==h)Ye.push(Ne);else break}if(Ye.length>=1?(Ce=new t(this._input.substring(Ws,this._offset),Ws,Ye),this._offset=this._offset):Ce=h,Ce!==h){vt[1]=Ce;var Ee=h,Xs=null,Qs=this._offset+2;Qs<=this._inputSize&&(Xs=this._input.substring(this._offset,Qs)),Xs===",}"?(Ee=new t(this._input.substring(this._offset,this._offset+2),this._offset,[]),this._offset=this._offset+2):(Ee=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'",}"'])),Ee!==h?vt[2]=Ee:(vt=null,this._offset=lt)}else vt=null,this._offset=lt}else vt=null,this._offset=lt;if(vt===null?a=h:(a=new c(this._input.substring(lt,this._offset),lt,vt),this._offset=this._offset),a===h){this._offset=y;var ae=this._offset,jt=new Array(3),Oe=h,Zs=null,Ks=this._offset+1;if(Ks<=this._inputSize&&(Zs=this._input.substring(this._offset,Ks)),Zs==="{"?(Oe=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(Oe=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'"{"'])),Oe!==h){jt[0]=Oe;for(var ke=h,ti=this._offset,Ve=[],ze=null;;){var Xe=null,ei=this._offset+1;if(ei<=this._inputSize&&(Xe=this._input.substring(this._offset,ei)),Xe!==null&&/^[0-9]/.test(Xe)?(ze=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ze=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec","[0-9]"])),ze!==h)Ve.push(ze);else break}if(Ve.length>=1?(ke=new t(this._input.substring(ti,this._offset),ti,Ve),this._offset=this._offset):ke=h,ke!==h){jt[1]=ke;var Me=h,si=null,ii=this._offset+1;ii<=this._inputSize&&(si=this._input.substring(this._offset,ii)),si==="}"?(Me=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(Me=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::repeat_spec",'"}"'])),Me!==h?jt[2]=Me:(jt=null,this._offset=ae)}else jt=null,this._offset=ae}else jt=null,this._offset=ae;jt===null?a=h:(a=new m(this._input.substring(ae,this._offset),ae,jt),this._offset=this._offset),a===h&&(this._offset=y)}}return a!==h&&Object.assign(a,this._types.RepeatSpec),this._cache._repeat_spec[w]=[a,this._offset],a},_read_anchor(){var a=h,w=this._offset;this._cache._anchor=this._cache._anchor||{};var l=this._cache._anchor[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=null,d=this._offset+1;if(d<=this._inputSize&&(p=this._input.substring(this._offset,d)),p==="^"?(a=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(a=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::anchor",'"^"'])),a===h){this._offset=y;var b=null,S=this._offset+1;S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="$"?(a=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(a=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::anchor",'"$"'])),a===h&&(this._offset=y)}return a!==h&&Object.assign(a,this._types.Anchor),this._cache._anchor[w]=[a,this._offset],a},_read_subexp(){var a=h,w=this._offset;this._cache._subexp=this._cache._subexp||{};var l=this._cache._subexp[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(4),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="("?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::subexp",'"("'])),d!==h){p[0]=d;var g=h,x=this._offset,v=this._offset,T=null,N=this._offset+2;if(N<=this._inputSize&&(T=this._input.substring(this._offset,N)),T==="?:"?(g=new t(this._input.substring(this._offset,this._offset+2),this._offset,[]),this._offset=this._offset+2):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::subexp",'"?:"'])),g===h){this._offset=v;var k=null,z=this._offset+2;if(z<=this._inputSize&&(k=this._input.substring(this._offset,z)),k==="?="?(g=new t(this._input.substring(this._offset,this._offset+2),this._offset,[]),this._offset=this._offset+2):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::subexp",'"?="'])),g===h){this._offset=v;var A=null,L=this._offset+2;L<=this._inputSize&&(A=this._input.substring(this._offset,L)),A==="?!"?(g=new t(this._input.substring(this._offset,this._offset+2),this._offset,[]),this._offset=this._offset+2):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::subexp",'"?!"'])),g===h&&(this._offset=v)}}if(g===h&&(g=new t(this._input.substring(x,x),x,[]),this._offset=x),g!==h){p[1]=g;var q=h;if(q=this._read_regexp(),q!==h){p[2]=q;var $=h,nt=null,tt=this._offset+1;tt<=this._inputSize&&(nt=this._input.substring(this._offset,tt)),nt===")"?($=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):($=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::subexp",'")"'])),$!==h?p[3]=$:(p=null,this._offset=y)}else p=null,this._offset=y}else p=null,this._offset=y}else p=null,this._offset=y;return p===null?a=h:(a=new O(this._input.substring(y,this._offset),y,p),this._offset=this._offset),a!==h&&Object.assign(a,this._types.Subexp),this._cache._subexp[w]=[a,this._offset],a},_read_charset(){var a=h,w=this._offset;this._cache._charset=this._cache._charset||{};var l=this._cache._charset[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(4),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="["?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset",'"["'])),d!==h){p[0]=d;var g=h,x=this._offset,v=null,T=this._offset+1;if(T<=this._inputSize&&(v=this._input.substring(this._offset,T)),v==="^"?(g=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset",'"^"'])),g===h&&(g=new t(this._input.substring(x,x),x,[]),this._offset=x),g!==h){p[1]=g;for(var N=h,k=this._offset,z=[],A=null;;){var L=this._offset;if(A=this._read_charset_range(),A===h&&(this._offset=L,A=this._read_charset_terminal(),A===h&&(this._offset=L)),A!==h)z.push(A);else break}if(z.length>=0?(N=new t(this._input.substring(k,this._offset),k,z),this._offset=this._offset):N=h,N!==h){p[2]=N;var q=h,$=null,nt=this._offset+1;nt<=this._inputSize&&($=this._input.substring(this._offset,nt)),$==="]"?(q=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(q=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset",'"]"'])),q!==h?p[3]=q:(p=null,this._offset=y)}else p=null,this._offset=y}else p=null,this._offset=y}else p=null,this._offset=y;return p===null?a=h:(a=new C(this._input.substring(y,this._offset),y,p),this._offset=this._offset),a!==h&&Object.assign(a,this._types.Charset),this._cache._charset[w]=[a,this._offset],a},_read_charset_range(){var a=h,w=this._offset;this._cache._charset_range=this._cache._charset_range||{};var l=this._cache._charset_range[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(3),d=h;if(d=this._read_charset_range_terminal(),d!==h){p[0]=d;var b=h,S=null,g=this._offset+1;if(g<=this._inputSize&&(S=this._input.substring(this._offset,g)),S==="-"?(b=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(b=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_range",'"-"'])),b!==h){p[1]=b;var x=h;x=this._read_charset_range_terminal(),x!==h?p[2]=x:(p=null,this._offset=y)}else p=null,this._offset=y}else p=null,this._offset=y;return p===null?a=h:(a=new R(this._input.substring(y,this._offset),y,p),this._offset=this._offset),a!==h&&Object.assign(a,this._types.CharsetRange),this._cache._charset_range[w]=[a,this._offset],a},_read_charset_range_terminal(){var a=h,w=this._offset;this._cache._charset_range_terminal=this._cache._charset_range_terminal||{};var l=this._cache._charset_range_terminal[w];if(l)return this._offset=l[1],l[0];var y=this._offset;return a=this._read_charset_range_escape(),a!==h&&Object.assign(a,this._types.CharsetEscape),a===h&&(this._offset=y,a=this._read_charset_literal(),a!==h&&Object.assign(a,this._types.Literal),a===h&&(this._offset=y)),this._cache._charset_range_terminal[w]=[a,this._offset],a},_read_charset_terminal(){var a=h,w=this._offset;this._cache._charset_terminal=this._cache._charset_terminal||{};var l=this._cache._charset_terminal[w];if(l)return this._offset=l[1],l[0];var y=this._offset;return a=this._read_charset_escape(),a!==h&&Object.assign(a,this._types.CharsetEscape),a===h&&(this._offset=y,a=this._read_charset_literal(),a!==h&&Object.assign(a,this._types.Literal),a===h&&(this._offset=y)),this._cache._charset_terminal[w]=[a,this._offset],a},_read_charset_escape(){var a=h,w=this._offset;this._cache._charset_escape=this._cache._charset_escape||{};var l=this._cache._charset_escape[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="\\"?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_escape",'"\\\\"'])),d!==h){p[0]=d;var g=h,x=this._offset,v=this._offset,T=new Array(2),N=h,k=null,z=this._offset+1;if(z<=this._inputSize&&(k=this._input.substring(this._offset,z)),k!==null&&/^[bdDfnrsStvwW]/.test(k)?(N=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(N=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_escape","[bdDfnrsStvwW]"])),N!==h){T[0]=N;var A=h,L=this._offset,q=null,$=this._offset+0;$<=this._inputSize&&(q=this._input.substring(this._offset,$)),q===""?(A=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(A=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_escape",'""'])),A===h&&(A=new t(this._input.substring(L,L),L,[]),this._offset=L),A!==h?T[1]=A:(T=null,this._offset=v)}else T=null,this._offset=v;T===null?g=h:(g=new M(this._input.substring(v,this._offset),v,T),this._offset=this._offset),g===h&&(this._offset=x,g=this._read_control_escape(),g===h&&(this._offset=x,g=this._read_octal_escape(),g===h&&(this._offset=x,g=this._read_hex_escape(),g===h&&(this._offset=x,g=this._read_unicode_escape(),g===h&&(this._offset=x,g=this._read_null_escape(),g===h&&(this._offset=x)))))),g!==h?p[1]=g:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new D(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._charset_escape[w]=[a,this._offset],a},_read_charset_range_escape(){var a=h,w=this._offset;this._cache._charset_range_escape=this._cache._charset_range_escape||{};var l=this._cache._charset_range_escape[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="\\"?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_range_escape",'"\\\\"'])),d!==h){p[0]=d;var g=h,x=this._offset,v=this._offset,T=new Array(2),N=h,k=null,z=this._offset+1;if(z<=this._inputSize&&(k=this._input.substring(this._offset,z)),k!==null&&/^[bfnrtv]/.test(k)?(N=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(N=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_range_escape","[bfnrtv]"])),N!==h){T[0]=N;var A=h,L=this._offset,q=null,$=this._offset+0;$<=this._inputSize&&(q=this._input.substring(this._offset,$)),q===""?(A=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(A=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_range_escape",'""'])),A===h&&(A=new t(this._input.substring(L,L),L,[]),this._offset=L),A!==h?T[1]=A:(T=null,this._offset=v)}else T=null,this._offset=v;T===null?g=h:(g=new st(this._input.substring(v,this._offset),v,T),this._offset=this._offset),g===h&&(this._offset=x,g=this._read_control_escape(),g===h&&(this._offset=x,g=this._read_octal_escape(),g===h&&(this._offset=x,g=this._read_hex_escape(),g===h&&(this._offset=x,g=this._read_unicode_escape(),g===h&&(this._offset=x,g=this._read_null_escape(),g===h&&(this._offset=x)))))),g!==h?p[1]=g:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new P(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._charset_range_escape[w]=[a,this._offset],a},_read_charset_literal(){var a=h,w=this._offset;this._cache._charset_literal=this._cache._charset_literal||{};var l=this._cache._charset_literal[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=this._offset,d=new Array(2),b=h,S=this._offset,g=null,x=this._offset+0;if(x<=this._inputSize&&(g=this._input.substring(this._offset,x)),g===""?(b=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(b=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_literal",'""'])),b===h&&(b=new t(this._input.substring(S,S),S,[]),this._offset=S),b!==h){d[0]=b;var v=h,T=null,N=this._offset+1;N<=this._inputSize&&(T=this._input.substring(this._offset,N)),T!==null&&/^[^\\\]]/.test(T)?(v=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(v=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_literal","[^\\\\\\]]"])),v!==h?d[1]=v:(d=null,this._offset=p)}else d=null,this._offset=p;if(d===null?a=h:(a=new rt(this._input.substring(p,this._offset),p,d),this._offset=this._offset),a===h){this._offset=y;var k=this._offset,z=new Array(2),A=h,L=null,q=this._offset+1;if(q<=this._inputSize&&(L=this._input.substring(this._offset,q)),L==="\\"?(A=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(A=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_literal",'"\\\\"'])),A!==h){z[0]=A;var $=h,nt=this._offset,tt=null,ht=this._offset+1;ht<=this._inputSize&&(tt=this._input.substring(this._offset,ht)),tt==="c"?($=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):($=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_literal",'"c"'])),this._offset=nt,$!==h?($=new t(this._input.substring(this._offset,this._offset),this._offset,[]),this._offset=this._offset):$=h,$!==h?z[1]=$:(z=null,this._offset=k)}else z=null,this._offset=k;if(z===null?a=h:(a=new K(this._input.substring(k,this._offset),k,z),this._offset=this._offset),a===h){this._offset=y;var et=this._offset,it=new Array(2),ft=h,At=null,It=this._offset+1;if(It<=this._inputSize&&(At=this._input.substring(this._offset,It)),At==="\\"?(ft=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ft=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_literal",'"\\\\"'])),ft!==h){it[0]=ft;var lt=h,vt=null,Ft=this._offset+1;Ft<=this._inputSize&&(vt=this._input.substring(this._offset,Ft)),vt!==null&&/^[^bdDfnrsStvwW]/.test(vt)?(lt=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(lt=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::charset_literal","[^bdDfnrsStvwW]"])),lt!==h?it[1]=lt:(it=null,this._offset=et)}else it=null,this._offset=et;it===null?a=h:(a=new yt(this._input.substring(et,this._offset),et,it),this._offset=this._offset),a===h&&(this._offset=y)}}return this._cache._charset_literal[w]=[a,this._offset],a},_read_terminal(){var a=h,w=this._offset;this._cache._terminal=this._cache._terminal||{};var l=this._cache._terminal[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=null,d=this._offset+1;return d<=this._inputSize&&(p=this._input.substring(this._offset,d)),p==="."?(a=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(a=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::terminal",'"."'])),a!==h&&Object.assign(a,this._types.AnyCharacter),a===h&&(this._offset=y,a=this._read_escape(),a!==h&&Object.assign(a,this._types.Escape),a===h&&(this._offset=y,a=this._read_literal(),a!==h&&Object.assign(a,this._types.Literal),a===h&&(this._offset=y))),this._cache._terminal[w]=[a,this._offset],a},_read_literal(){var a=h,w=this._offset;this._cache._literal=this._cache._literal||{};var l=this._cache._literal[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=this._offset,d=new Array(2),b=h,S=this._offset,g=null,x=this._offset+0;if(x<=this._inputSize&&(g=this._input.substring(this._offset,x)),g===""?(b=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(b=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::literal",'""'])),b===h&&(b=new t(this._input.substring(S,S),S,[]),this._offset=S),b!==h){d[0]=b;var v=h,T=null,N=this._offset+1;N<=this._inputSize&&(T=this._input.substring(this._offset,N)),T!==null&&/^[^|\\/.\[\(\)?+*$^]/.test(T)?(v=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(v=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::literal","[^|\\\\/.\\[\\(\\)?+*$^]"])),v!==h?d[1]=v:(d=null,this._offset=p)}else d=null,this._offset=p;if(d===null?a=h:(a=new bt(this._input.substring(p,this._offset),p,d),this._offset=this._offset),a===h){this._offset=y;var k=this._offset,z=new Array(2),A=h,L=null,q=this._offset+1;if(q<=this._inputSize&&(L=this._input.substring(this._offset,q)),L==="\\"?(A=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(A=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::literal",'"\\\\"'])),A!==h){z[0]=A;var $=h,nt=this._offset,tt=null,ht=this._offset+1;ht<=this._inputSize&&(tt=this._input.substring(this._offset,ht)),tt==="c"?($=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):($=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::literal",'"c"'])),this._offset=nt,$!==h?($=new t(this._input.substring(this._offset,this._offset),this._offset,[]),this._offset=this._offset):$=h,$!==h?z[1]=$:(z=null,this._offset=k)}else z=null,this._offset=k;if(z===null?a=h:(a=new kt(this._input.substring(k,this._offset),k,z),this._offset=this._offset),a===h){this._offset=y;var et=this._offset,it=new Array(2),ft=h,At=null,It=this._offset+1;if(It<=this._inputSize&&(At=this._input.substring(this._offset,It)),At==="\\"?(ft=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(ft=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::literal",'"\\\\"'])),ft!==h){it[0]=ft;var lt=h;this._offset<this._inputSize?(lt=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(lt=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::literal","<any char>"])),lt!==h?it[1]=lt:(it=null,this._offset=et)}else it=null,this._offset=et;it===null?a=h:(a=new Y(this._input.substring(et,this._offset),et,it),this._offset=this._offset),a===h&&(this._offset=y)}}return this._cache._literal[w]=[a,this._offset],a},_read_control_escape(){var a=h,w=this._offset;this._cache._control_escape=this._cache._control_escape||{};var l=this._cache._control_escape[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="c"?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::control_escape",'"c"'])),d!==h){p[0]=d;var g=h,x=null,v=this._offset+1;v<=this._inputSize&&(x=this._input.substring(this._offset,v)),x!==null&&/^[a-zA-Z]/.test(x)?(g=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::control_escape","[a-zA-Z]"])),g!==h?p[1]=g:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new at(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._control_escape[w]=[a,this._offset],a},_read_octal_escape(){var a=h,w=this._offset;this._cache._octal_escape=this._cache._octal_escape||{};var l=this._cache._octal_escape[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="0"?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::octal_escape",'"0"'])),d!==h){p[0]=d;for(var g=h,x=this._offset,v=[],T=null;;){var N=null,k=this._offset+1;if(k<=this._inputSize&&(N=this._input.substring(this._offset,k)),N!==null&&/^[0-7]/.test(N)?(T=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(T=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::octal_escape","[0-7]"])),T!==h)v.push(T);else break}v.length>=1?(g=new t(this._input.substring(x,this._offset),x,v),this._offset=this._offset):g=h,g!==h?p[1]=g:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new Ls(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._octal_escape[w]=[a,this._offset],a},_read_hex_escape(){var a=h,w=this._offset;this._cache._hex_escape=this._cache._hex_escape||{};var l=this._cache._hex_escape[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="x"?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::hex_escape",'"x"'])),d!==h){p[0]=d;var g=h,x=this._offset,v=new Array(2),T=h,N=null,k=this._offset+1;if(k<=this._inputSize&&(N=this._input.substring(this._offset,k)),N!==null&&/^[0-9a-fA-F]/.test(N)?(T=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(T=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::hex_escape","[0-9a-fA-F]"])),T!==h){v[0]=T;var z=h,A=null,L=this._offset+1;L<=this._inputSize&&(A=this._input.substring(this._offset,L)),A!==null&&/^[0-9a-fA-F]/.test(A)?(z=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(z=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::hex_escape","[0-9a-fA-F]"])),z!==h?v[1]=z:(v=null,this._offset=x)}else v=null,this._offset=x;v===null?g=h:(g=new t(this._input.substring(x,this._offset),x,v),this._offset=this._offset),g!==h?p[1]=g:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new Ps(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._hex_escape[w]=[a,this._offset],a},_read_unicode_escape(){var a=h,w=this._offset;this._cache._unicode_escape=this._cache._unicode_escape||{};var l=this._cache._unicode_escape[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="u"?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::unicode_escape",'"u"'])),d!==h){p[0]=d;var g=h,x=this._offset,v=new Array(4),T=h,N=null,k=this._offset+1;if(k<=this._inputSize&&(N=this._input.substring(this._offset,k)),N!==null&&/^[0-9a-fA-F]/.test(N)?(T=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(T=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::unicode_escape","[0-9a-fA-F]"])),T!==h){v[0]=T;var z=h,A=null,L=this._offset+1;if(L<=this._inputSize&&(A=this._input.substring(this._offset,L)),A!==null&&/^[0-9a-fA-F]/.test(A)?(z=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(z=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::unicode_escape","[0-9a-fA-F]"])),z!==h){v[1]=z;var q=h,$=null,nt=this._offset+1;if(nt<=this._inputSize&&($=this._input.substring(this._offset,nt)),$!==null&&/^[0-9a-fA-F]/.test($)?(q=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(q=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::unicode_escape","[0-9a-fA-F]"])),q!==h){v[2]=q;var tt=h,ht=null,et=this._offset+1;et<=this._inputSize&&(ht=this._input.substring(this._offset,et)),ht!==null&&/^[0-9a-fA-F]/.test(ht)?(tt=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(tt=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::unicode_escape","[0-9a-fA-F]"])),tt!==h?v[3]=tt:(v=null,this._offset=x)}else v=null,this._offset=x}else v=null,this._offset=x}else v=null,this._offset=x;v===null?g=h:(g=new t(this._input.substring(x,this._offset),x,v),this._offset=this._offset),g!==h?p[1]=g:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new Js(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._unicode_escape[w]=[a,this._offset],a},_read_null_escape(){var a=h,w=this._offset;this._cache._null_escape=this._cache._null_escape||{};var l=this._cache._null_escape[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="0"?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::null_escape",'"0"'])),d!==h){p[0]=d;var g=h,x=this._offset,v=null,T=this._offset+0;T<=this._inputSize&&(v=this._input.substring(this._offset,T)),v===""?(g=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(g=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::null_escape",'""'])),g===h&&(g=new t(this._input.substring(x,x),x,[]),this._offset=x),g!==h?p[1]=g:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new qs(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._null_escape[w]=[a,this._offset],a},_read_escape(){var a=h,w=this._offset;this._cache._escape=this._cache._escape||{};var l=this._cache._escape[w];if(l)return this._offset=l[1],l[0];var y=this._offset,p=new Array(2),d=h,b=null,S=this._offset+1;if(S<=this._inputSize&&(b=this._input.substring(this._offset,S)),b==="\\"?(d=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(d=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::escape",'"\\\\"'])),d!==h){p[0]=d;var g=h,x=this._offset,v=this._offset,T=new Array(2),N=h,k=null,z=this._offset+1;if(z<=this._inputSize&&(k=this._input.substring(this._offset,z)),k!==null&&/^[bBdDfnrsStvwW1-9]/.test(k)?(N=new t(this._input.substring(this._offset,this._offset+1),this._offset,[]),this._offset=this._offset+1):(N=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::escape","[bBdDfnrsStvwW1-9]"])),N!==h){T[0]=N;var A=h,L=this._offset,q=null,$=this._offset+0;$<=this._inputSize&&(q=this._input.substring(this._offset,$)),q===""?(A=new t(this._input.substring(this._offset,this._offset+0),this._offset,[]),this._offset=this._offset+0):(A=h,this._offset>this._failure&&(this._failure=this._offset,this._expected=[]),this._offset===this._failure&&this._expected.push(["JavaScriptRegexp::escape",'""'])),A===h&&(A=new t(this._input.substring(L,L),L,[]),this._offset=L),A!==h?T[1]=A:(T=null,this._offset=v)}else T=null,this._offset=v;T===null?g=h:(g=new Bs(this._input.substring(v,this._offset),v,T),this._offset=this._offset),g===h&&(this._offset=x,g=this._read_control_escape(),g===h&&(this._offset=x,g=this._read_octal_escape(),g===h&&(this._offset=x,g=this._read_hex_escape(),g===h&&(this._offset=x,g=this._read_unicode_escape(),g===h&&(this._offset=x,g=this._read_null_escape(),g===h&&(this._offset=x)))))),g!==h?p[1]=g:(p=null,this._offset=y)}else p=null,this._offset=y;return p===null?a=h:(a=new Fs(this._input.substring(y,this._offset),y,p),this._offset=this._offset),this._cache._escape[w]=[a,this._offset],a}},Ae=function(a,w,l){this._input=a,this._inputSize=a.length,this._actions=w,this._types=l,this._offset=0,this._cache={},this._failure=0,this._expected=[]};Ae.prototype.parse=function(){var a=this._read_root();if(a!==h&&this._offset===this._inputSize)return a;throw this._expected.length===0&&(this._failure=this._offset,this._expected.push(["JavaScriptRegexp","<EOF>"])),this.constructor.lastError={offset:this._offset,expected:this._expected},new SyntaxError(hn(this._input,this._failure,this._expected))},Object.assign(Ae.prototype,Hs);function rn(a,w){w=w||{};var l=new Ae(a,w.actions,w.types);return l.parse()}function hn(a,w,l){for(var y=a.split(/\n/g),p=0,d=0;d<=w;)d+=y[p].length+1,p+=1;for(var b=y[p-1],S="Line "+p+`: expected one of:

`,g=0;g<l.length;g++)S+="    - "+l[g][1]+" from "+l[g][0]+`
`;for(var x=p.toString();x.length<6;)x=" "+x;for(S+=`
`+x+" | "+b+`
`,d-=b.length+10;d<w;)S+=" ",d+=1;return S+"^"}function H(a,w){function l(){}l.prototype=w.prototype,a.prototype=new l,a.prototype.constructor=a}var Us={Grammar:Hs,Parser:Ae,parse:rn};if(typeof wn=="function")Object.assign(s,Us);else{var fn=typeof this>"u"?window:this;fn.JavaScriptRegexp=Us}})()})(xi);const Ln=gi(xi),fs={},bi=[];function j(s,t){if(Array.isArray(s)){for(const e of s)j(e,t);return}if(typeof s=="object"){for(const e in s)j(e,s[e]);return}vi(Object.getOwnPropertyNames(t)),fs[s]=Object.assign(fs[s]||{},t)}function dt(s){return fs[s]||{}}function Pn(){return[...new Set(bi)]}function vi(s){bi.push(...s)}function bs(s,t){let e;const i=s.length,n=[];for(e=0;e<i;e++)n.push(t(s[e]));return n}function Jn(s,t){let e;const i=s.length,n=[];for(e=0;e<i;e++)t(s[e])&&n.push(s[e]);return n}function ts(s){return s%360*Math.PI/180}function qn(s){return s.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})}function Si(s){return s.charAt(0).toUpperCase()+s.slice(1)}function he(s,t,e,i){return(t==null||e==null)&&(i=i||s.bbox(),t==null?t=i.width/i.height*e:e==null&&(e=i.height/i.width*t)),{width:t,height:e}}function os(s,t){const e=s.origin;let i=s.ox!=null?s.ox:s.originX!=null?s.originX:"center",n=s.oy!=null?s.oy:s.originY!=null?s.originY:"center";e!=null&&([i,n]=Array.isArray(e)?e:typeof e=="object"?[e.x,e.y]:[e,e]);const r=typeof i=="string",f=typeof n=="string";if(r||f){const{height:o,width:u,x:_,y:c}=t.bbox();r&&(i=i.includes("left")?_:i.includes("right")?_+u:_+u/2),f&&(n=n.includes("top")?c:n.includes("bottom")?c+o:c+o/2)}return[i,n]}const Fn=new Set(["desc","metadata","title"]),as=s=>Fn.has(s.nodeName),Ti=(s,t,e={})=>{const i={...t};for(const n in i)i[n].valueOf()===e[n]&&delete i[n];Object.keys(i).length?s.node.setAttribute("data-svgjs",JSON.stringify(i)):(s.node.removeAttribute("data-svgjs"),s.node.removeAttribute("svgjs:data"))},vs="http://www.w3.org/2000/svg",Bn="http://www.w3.org/1999/xhtml",es="http://www.w3.org/2000/xmlns/",xe="http://www.w3.org/1999/xlink",F={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Hn(){return F.window}class Ss{}const Vt={},Ts="___SYMBOL___ROOT___";function ne(s,t=vs){return F.document.createElementNS(t,s)}function _t(s,t=!1){if(s instanceof Ss)return s;if(typeof s=="object")return ss(s);if(s==null)return new Vt[Ts];if(typeof s=="string"&&s.charAt(0)!=="<")return ss(F.document.querySelector(s));const e=t?F.document.createElement("div"):ne("svg");return e.innerHTML=s,s=ss(e.firstChild),e.removeChild(e.firstChild),s}function Z(s,t){return t&&(t instanceof F.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:ne(s)}function Rt(s){if(!s)return null;if(s.instance instanceof Ss)return s.instance;if(s.nodeName==="#document-fragment")return new Vt.Fragment(s);let t=Si(s.nodeName||"Dom");return t==="LinearGradient"||t==="RadialGradient"?t="Gradient":Vt[t]||(t="Dom"),new Vt[t](s)}let ss=Rt;function B(s,t=s.name,e=!1){return Vt[t]=s,e&&(Vt[Ts]=s),vi(Object.getOwnPropertyNames(s.prototype)),s}function Un(s){return Vt[s]}let Gn=1e3;function Ri(s){return"Svgjs"+Si(s)+Gn++}function Ai(s){for(let t=s.children.length-1;t>=0;t--)Ai(s.children[t]);return s.id&&(s.id=Ri(s.nodeName)),s}function J(s,t){let e,i;for(s=Array.isArray(s)?s:[s],i=s.length-1;i>=0;i--)for(e in t)s[i].prototype[e]=t[e]}function Q(s){return function(...t){const e=t[t.length-1];return e&&e.constructor===Object&&!(e instanceof Array)?s.apply(this,t.slice(0,-1)).attr(e):s.apply(this,t)}}function Yn(){return this.parent().children()}function Wn(){return this.parent().index(this)}function Vn(){return this.siblings()[this.position()+1]}function Xn(){return this.siblings()[this.position()-1]}function Qn(){const s=this.position();return this.parent().add(this.remove(),s+1),this}function Zn(){const s=this.position();return this.parent().add(this.remove(),s?s-1:0),this}function Kn(){return this.parent().add(this.remove()),this}function tr(){return this.parent().add(this.remove(),0),this}function er(s){s=_t(s),s.remove();const t=this.position();return this.parent().add(s,t),this}function sr(s){s=_t(s),s.remove();const t=this.position();return this.parent().add(s,t+1),this}function ir(s){return s=_t(s),s.before(this),this}function nr(s){return s=_t(s),s.after(this),this}j("Dom",{siblings:Yn,position:Wn,next:Vn,prev:Xn,forward:Qn,backward:Zn,front:Kn,back:tr,before:er,after:sr,insertBefore:ir,insertAfter:nr});const Ci=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,rr=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,hr=/rgb\((\d+),(\d+),(\d+)\)/,fr=/(#[a-z_][a-z0-9\-_]*)/i,or=/\)\s*,?\s*/,ar=/\s/g,oi=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,ai=/^rgb\(/,ui=/^(\s+)?$/,li=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ur=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,$t=/[\s,]+/,Rs=/[MLHVCSQTAZ]/i;function lr(){const s=this.attr("class");return s==null?[]:s.trim().split($t)}function cr(s){return this.classes().indexOf(s)!==-1}function _r(s){if(!this.hasClass(s)){const t=this.classes();t.push(s),this.attr("class",t.join(" "))}return this}function pr(s){return this.hasClass(s)&&this.attr("class",this.classes().filter(function(t){return t!==s}).join(" ")),this}function dr(s){return this.hasClass(s)?this.removeClass(s):this.addClass(s)}j("Dom",{classes:lr,hasClass:cr,addClass:_r,removeClass:pr,toggleClass:dr});function gr(s,t){const e={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(i){return!!i.length}).forEach(function(i){const n=i.split(/\s*:\s*/);e[n[0]]=n[1]}),e;if(arguments.length<2){if(Array.isArray(s)){for(const i of s){const n=i;e[i]=this.node.style.getPropertyValue(n)}return e}if(typeof s=="string")return this.node.style.getPropertyValue(s);if(typeof s=="object")for(const i in s)this.node.style.setProperty(i,s[i]==null||ui.test(s[i])?"":s[i])}return arguments.length===2&&this.node.style.setProperty(s,t==null||ui.test(t)?"":t),this}function mr(){return this.css("display","")}function yr(){return this.css("display","none")}function wr(){return this.css("display")!=="none"}j("Dom",{css:gr,show:mr,hide:yr,visible:wr});function xr(s,t,e){if(s==null)return this.data(bs(Jn(this.node.attributes,i=>i.nodeName.indexOf("data-")===0),i=>i.nodeName.slice(5)));if(s instanceof Array){const i={};for(const n of s)i[n]=this.data(n);return i}else if(typeof s=="object")for(t in s)this.data(t,s[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+s))}catch{return this.attr("data-"+s)}else this.attr("data-"+s,t===null?null:e===!0||typeof t=="string"||typeof t=="number"?t:JSON.stringify(t));return this}j("Dom",{data:xr});function br(s,t){if(typeof arguments[0]=="object")for(const e in s)this.remember(e,s[e]);else{if(arguments.length===1)return this.memory()[s];this.memory()[s]=t}return this}function vr(){if(arguments.length===0)this._memory={};else for(let s=arguments.length-1;s>=0;s--)delete this.memory()[arguments[s]];return this}function Sr(){return this._memory=this._memory||{}}j("Dom",{remember:br,forget:vr,memory:Sr});function Tr(s){return s.length===4?["#",s.substring(1,2),s.substring(1,2),s.substring(2,3),s.substring(2,3),s.substring(3,4),s.substring(3,4)].join(""):s}function Rr(s){const t=Math.round(s),i=Math.max(0,Math.min(255,t)).toString(16);return i.length===1?"0"+i:i}function Kt(s,t){for(let e=t.length;e--;)if(s[t[e]]==null)return!1;return!0}function Ar(s,t){const e=Kt(s,"rgb")?{_a:s.r,_b:s.g,_c:s.b,_d:0,space:"rgb"}:Kt(s,"xyz")?{_a:s.x,_b:s.y,_c:s.z,_d:0,space:"xyz"}:Kt(s,"hsl")?{_a:s.h,_b:s.s,_c:s.l,_d:0,space:"hsl"}:Kt(s,"lab")?{_a:s.l,_b:s.a,_c:s.b,_d:0,space:"lab"}:Kt(s,"lch")?{_a:s.l,_b:s.c,_c:s.h,_d:0,space:"lch"}:Kt(s,"cmyk")?{_a:s.c,_b:s.m,_c:s.y,_d:s.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return e.space=t||e.space,e}function Cr(s){return s==="lab"||s==="xyz"||s==="lch"}function is(s,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?s+(t-s)*6*e:e<1/2?t:e<2/3?s+(t-s)*(2/3-e)*6:s}class W{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof W||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"}static random(t="vibrant",e){const{random:i,round:n,sin:r,PI:f}=Math;if(t==="vibrant"){const o=24*i()+57,u=(83-45)*i()+45,_=360*i();return new W(o,u,_,"lch")}else if(t==="sine"){e=e??i();const o=n(80*r(2*f*e/.5+.01)+150),u=n(50*r(2*f*e/.5+4.6)+200),_=n(100*r(2*f*e/.5+2.3)+150);return new W(o,u,_)}else if(t==="pastel"){const o=8*i()+86,u=(26-9)*i()+9,_=360*i();return new W(o,u,_,"lch")}else if(t==="dark"){const o=10+10*i(),u=(125-75)*i()+86,_=360*i();return new W(o,u,_,"lch")}else if(t==="rgb"){const o=255*i(),u=255*i(),_=255*i();return new W(o,u,_)}else if(t==="lab"){const o=100*i(),u=256*i()-128,_=256*i()-128;return new W(o,u,_,"lab")}else if(t==="grey"){const o=255*i();return new W(o,o,o)}else throw new Error("Unsupported random color mode")}static test(t){return typeof t=="string"&&(oi.test(t)||ai.test(t))}cmyk(){const{_a:t,_b:e,_c:i}=this.rgb(),[n,r,f]=[t,e,i].map(O=>O/255),o=Math.min(1-n,1-r,1-f);if(o===1)return new W(0,0,0,1,"cmyk");const u=(1-n-o)/(1-o),_=(1-r-o)/(1-o),c=(1-f-o)/(1-o);return new W(u,_,c,o,"cmyk")}hsl(){const{_a:t,_b:e,_c:i}=this.rgb(),[n,r,f]=[t,e,i].map(D=>D/255),o=Math.max(n,r,f),u=Math.min(n,r,f),_=(o+u)/2,c=o===u,m=o-u,O=c?0:_>.5?m/(2-o-u):m/(o+u),C=c?0:o===n?((r-f)/m+(r<f?6:0))/6:o===r?((f-n)/m+2)/6:o===f?((n-r)/m+4)/6:0;return new W(360*C,100*O,100*_,"hsl")}init(t=0,e=0,i=0,n=0,r="rgb"){if(t=t||0,this.space)for(const m in this.space)delete this[this.space[m]];if(typeof t=="number")r=typeof n=="string"?n:r,n=typeof n=="string"?0:n,Object.assign(this,{_a:t,_b:e,_c:i,_d:n,space:r});else if(t instanceof Array)this.space=e||(typeof t[3]=="string"?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const m=Ar(t,e);Object.assign(this,m)}else if(typeof t=="string")if(ai.test(t)){const m=t.replace(ar,""),[O,C,R]=hr.exec(m).slice(1,4).map(D=>parseInt(D));Object.assign(this,{_a:O,_b:C,_c:R,_d:0,space:"rgb"})}else if(oi.test(t)){const m=D=>parseInt(D,16),[,O,C,R]=rr.exec(Tr(t)).map(m);Object.assign(this,{_a:O,_b:C,_c:R,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");const{_a:f,_b:o,_c:u,_d:_}=this,c=this.space==="rgb"?{r:f,g:o,b:u}:this.space==="xyz"?{x:f,y:o,z:u}:this.space==="hsl"?{h:f,s:o,l:u}:this.space==="lab"?{l:f,a:o,b:u}:this.space==="lch"?{l:f,c:o,h:u}:this.space==="cmyk"?{c:f,m:o,y:u,k:_}:{};Object.assign(this,c)}lab(){const{x:t,y:e,z:i}=this.xyz(),n=116*e-16,r=500*(t-e),f=200*(e-i);return new W(n,r,f,"lab")}lch(){const{l:t,a:e,b:i}=this.lab(),n=Math.sqrt(e**2+i**2);let r=180*Math.atan2(i,e)/Math.PI;return r<0&&(r*=-1,r=360-r),new W(t,n,r,"lch")}rgb(){if(this.space==="rgb")return this;if(Cr(this.space)){let{x:t,y:e,z:i}=this;if(this.space==="lab"||this.space==="lch"){let{l:C,a:R,b:D}=this;if(this.space==="lch"){const{c:bt,h:kt}=this,Y=Math.PI/180;R=bt*Math.cos(Y*kt),D=bt*Math.sin(Y*kt)}const M=(C+16)/116,P=R/500+M,st=M-D/200,rt=16/116,K=.008856,yt=7.787;t=.95047*(P**3>K?P**3:(P-rt)/yt),e=1*(M**3>K?M**3:(M-rt)/yt),i=1.08883*(st**3>K?st**3:(st-rt)/yt)}const n=t*3.2406+e*-1.5372+i*-.4986,r=t*-.9689+e*1.8758+i*.0415,f=t*.0557+e*-.204+i*1.057,o=Math.pow,u=.0031308,_=n>u?1.055*o(n,1/2.4)-.055:12.92*n,c=r>u?1.055*o(r,1/2.4)-.055:12.92*r,m=f>u?1.055*o(f,1/2.4)-.055:12.92*f;return new W(255*_,255*c,255*m)}else if(this.space==="hsl"){let{h:t,s:e,l:i}=this;if(t/=360,e/=100,i/=100,e===0)return i*=255,new W(i,i,i);const n=i<.5?i*(1+e):i+e-i*e,r=2*i-n,f=255*is(r,n,t+1/3),o=255*is(r,n,t),u=255*is(r,n,t-1/3);return new W(f,o,u)}else if(this.space==="cmyk"){const{c:t,m:e,y:i,k:n}=this,r=255*(1-Math.min(1,t*(1-n)+n)),f=255*(1-Math.min(1,e*(1-n)+n)),o=255*(1-Math.min(1,i*(1-n)+n));return new W(r,f,o)}else return this}toArray(){const{_a:t,_b:e,_c:i,_d:n,space:r}=this;return[t,e,i,n,r]}toHex(){const[t,e,i]=this._clamped().map(Rr);return`#${t}${e}${i}`}toRgb(){const[t,e,i]=this._clamped();return`rgb(${t},${e},${i})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:e,_c:i}=this.rgb(),[n,r,f]=[t,e,i].map(P=>P/255),o=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,u=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,_=f>.04045?Math.pow((f+.055)/1.055,2.4):f/12.92,c=(o*.4124+u*.3576+_*.1805)/.95047,m=(o*.2126+u*.7152+_*.0722)/1,O=(o*.0193+u*.1192+_*.9505)/1.08883,C=c>.008856?Math.pow(c,1/3):7.787*c+16/116,R=m>.008856?Math.pow(m,1/3):7.787*m+16/116,D=O>.008856?Math.pow(O,1/3):7.787*O+16/116;return new W(C,R,D,"xyz")}_clamped(){const{_a:t,_b:e,_c:i}=this.rgb(),{max:n,min:r,round:f}=Math,o=u=>n(0,r(f(u),255));return[t,e,i].map(o)}}class V{constructor(...t){this.init(...t)}clone(){return new V(this)}init(t,e){const i={x:0,y:0},n=Array.isArray(t)?{x:t[0],y:t[1]}:typeof t=="object"?{x:t.x,y:t.y}:{x:t,y:e};return this.x=n.x==null?i.x:n.x,this.y=n.y==null?i.y:n.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){E.isMatrixLike(t)||(t=new E(t));const{x:e,y:i}=this;return this.x=t.a*e+t.c*i+t.e,this.y=t.b*e+t.d*i+t.f,this}}function Nr(s,t){return new V(s,t).transformO(this.screenCTM().inverseO())}function te(s,t,e){return Math.abs(t-s)<(e||1e-6)}class E{constructor(...t){this.init(...t)}static formatTransforms(t){const e=t.flip==="both"||t.flip===!0,i=t.flip&&(e||t.flip==="x")?-1:1,n=t.flip&&(e||t.flip==="y")?-1:1,r=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,f=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,o=t.scale&&t.scale.length?t.scale[0]*i:isFinite(t.scale)?t.scale*i:isFinite(t.scaleX)?t.scaleX*i:i,u=t.scale&&t.scale.length?t.scale[1]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleY)?t.scaleY*n:n,_=t.shear||0,c=t.rotate||t.theta||0,m=new V(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),O=m.x,C=m.y,R=new V(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),D=R.x,M=R.y,P=new V(t.translate||t.tx||t.translateX,t.ty||t.translateY),st=P.x,rt=P.y,K=new V(t.relative||t.rx||t.relativeX,t.ry||t.relativeY),yt=K.x,bt=K.y;return{scaleX:o,scaleY:u,skewX:r,skewY:f,shear:_,theta:c,rx:yt,ry:bt,tx:st,ty:rt,ox:O,oy:C,px:D,py:M}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return t.a!=null||t.b!=null||t.c!=null||t.d!=null||t.e!=null||t.f!=null}static matrixMultiply(t,e,i){const n=t.a*e.a+t.c*e.b,r=t.b*e.a+t.d*e.b,f=t.a*e.c+t.c*e.d,o=t.b*e.c+t.d*e.d,u=t.e+t.a*e.e+t.c*e.f,_=t.f+t.b*e.e+t.d*e.f;return i.a=n,i.b=r,i.c=f,i.d=o,i.e=u,i.f=_,i}around(t,e,i){return this.clone().aroundO(t,e,i)}aroundO(t,e,i){const n=t||0,r=e||0;return this.translateO(-n,-r).lmultiplyO(i).translateO(n,r)}clone(){return new E(this)}decompose(t=0,e=0){const i=this.a,n=this.b,r=this.c,f=this.d,o=this.e,u=this.f,_=i*f-n*r,c=_>0?1:-1,m=c*Math.sqrt(i*i+n*n),O=Math.atan2(c*n,c*i),C=180/Math.PI*O,R=Math.cos(O),D=Math.sin(O),M=(i*r+n*f)/_,P=r*m/(M*i-n)||f*m/(M*n+i),st=o-t+t*R*m+e*(M*R*m-D*P),rt=u-e+t*D*m+e*(M*D*m+R*P);return{scaleX:m,scaleY:P,shear:M,rotate:C,translateX:st,translateY:rt,originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const e=new E(t);return te(this.a,e.a)&&te(this.b,e.b)&&te(this.c,e.c)&&te(this.d,e.d)&&te(this.e,e.e)&&te(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return t==="x"?this.scaleO(-1,1,e,0):t==="y"?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){const e=E.fromArray([1,0,0,1,0,0]);return t=t instanceof Ot?t.matrixify():typeof t=="string"?E.fromArray(t.split($t).map(parseFloat)):Array.isArray(t)?E.fromArray(t):typeof t=="object"&&E.isMatrixLike(t)?t:typeof t=="object"?new E().transform(t):arguments.length===6?E.fromArray([].slice.call(arguments)):e,this.a=t.a!=null?t.a:e.a,this.b=t.b!=null?t.b:e.b,this.c=t.c!=null?t.c:e.c,this.d=t.d!=null?t.d:e.d,this.e=t.e!=null?t.e:e.e,this.f=t.f!=null?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,e=this.b,i=this.c,n=this.d,r=this.e,f=this.f,o=t*n-e*i;if(!o)throw new Error("Cannot invert "+this);const u=n/o,_=-e/o,c=-i/o,m=t/o,O=-(u*r+c*f),C=-(_*r+m*f);return this.a=u,this.b=_,this.c=c,this.d=m,this.e=O,this.f=C,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const e=this,i=t instanceof E?t:new E(t);return E.matrixMultiply(i,e,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const e=this,i=t instanceof E?t:new E(t);return E.matrixMultiply(e,i,this)}rotate(t,e,i){return this.clone().rotateO(t,e,i)}rotateO(t,e=0,i=0){t=ts(t);const n=Math.cos(t),r=Math.sin(t),{a:f,b:o,c:u,d:_,e:c,f:m}=this;return this.a=f*n-o*r,this.b=o*n+f*r,this.c=u*n-_*r,this.d=_*n+u*r,this.e=c*n-m*r+i*r-e*n+e,this.f=m*n+c*r-e*r-i*n+i,this}scale(){return this.clone().scaleO(...arguments)}scaleO(t,e=t,i=0,n=0){arguments.length===3&&(n=i,i=e,e=t);const{a:r,b:f,c:o,d:u,e:_,f:c}=this;return this.a=r*t,this.b=f*e,this.c=o*t,this.d=u*e,this.e=_*t-i*t+i,this.f=c*e-n*e+n,this}shear(t,e,i){return this.clone().shearO(t,e,i)}shearO(t,e=0,i=0){const{a:n,b:r,c:f,d:o,e:u,f:_}=this;return this.a=n+r*t,this.c=f+o*t,this.e=u+_*t-i*t,this}skew(){return this.clone().skewO(...arguments)}skewO(t,e=t,i=0,n=0){arguments.length===3&&(n=i,i=e,e=t),t=ts(t),e=ts(e);const r=Math.tan(t),f=Math.tan(e),{a:o,b:u,c:_,d:c,e:m,f:O}=this;return this.a=o+u*r,this.b=u+o*f,this.c=_+c*r,this.d=c+_*f,this.e=m+O*r-n*r,this.f=O+m*f-i*f,this}skewX(t,e,i){return this.skew(t,0,e,i)}skewY(t,e,i){return this.skew(0,t,e,i)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(E.isMatrixLike(t))return new E(t).multiplyO(this);const e=E.formatTransforms(t),i=this,{x:n,y:r}=new V(e.ox,e.oy).transform(i),f=new E().translateO(e.rx,e.ry).lmultiplyO(i).translateO(-n,-r).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(n,r);if(isFinite(e.px)||isFinite(e.py)){const o=new V(n,r).transform(f),u=isFinite(e.px)?e.px-o.x:0,_=isFinite(e.py)?e.py-o.y:0;f.translateO(u,_)}return f.translateO(e.tx,e.ty),f}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function Er(){return new E(this.node.getCTM())}function Or(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const s=this.rect(1,1),t=s.node.getScreenCTM();return s.remove(),new E(t)}return new E(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new E}}B(E,"Matrix");function Pt(){if(!Pt.nodes){const s=_t().size(2,0);s.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),s.attr("focusable","false"),s.attr("aria-hidden","true");const t=s.path().node;Pt.nodes={svg:s,path:t}}if(!Pt.nodes.svg.node.parentNode){const s=F.document.body||F.document.documentElement;Pt.nodes.svg.addTo(s)}return Pt.nodes}function Ni(s){return!s.width&&!s.height&&!s.x&&!s.y}function kr(s){return s===F.document||(F.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===F.document}).call(F.document.documentElement,s)}class ot{constructor(...t){this.init(...t)}addOffset(){return this.x+=F.window.pageXOffset,this.y+=F.window.pageYOffset,new ot(this)}init(t){const e=[0,0,0,0];return t=typeof t=="string"?t.split($t).map(parseFloat):Array.isArray(t)?t:typeof t=="object"?[t.left!=null?t.left:t.x,t.top!=null?t.top:t.y,t.width,t.height]:arguments.length===4?[].slice.call(arguments):e,this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return Ni(this)}merge(t){const e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width)-e,r=Math.max(this.y+this.height,t.y+t.height)-i;return new ot(e,i,n,r)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof E||(t=new E(t));let e=1/0,i=-1/0,n=1/0,r=-1/0;return[new V(this.x,this.y),new V(this.x2,this.y),new V(this.x,this.y2),new V(this.x2,this.y2)].forEach(function(o){o=o.transform(t),e=Math.min(e,o.x),i=Math.max(i,o.x),n=Math.min(n,o.y),r=Math.max(r,o.y)}),new ot(e,n,i-e,r-n)}}function Ei(s,t,e){let i;try{if(i=t(s.node),Ni(i)&&!kr(s.node))throw new Error("Element not in the dom")}catch{i=e(s)}return i}function zr(){const e=Ei(this,n=>n.getBBox(),n=>{try{const r=n.clone().addTo(Pt().svg).show(),f=r.node.getBBox();return r.remove(),f}catch(r){throw new Error(`Getting bbox of element "${n.node.nodeName}" is not possible: ${r.toString()}`)}});return new ot(e)}function Mr(s){const i=Ei(this,r=>r.getBoundingClientRect(),r=>{throw new Error(`Getting rbox of element "${r.node.nodeName}" is not possible`)}),n=new ot(i);return s?n.transform(s.screenCTM().inverseO()):n.addOffset()}function $r(s,t){const e=this.bbox();return s>e.x&&t>e.y&&s<e.x+e.width&&t<e.y+e.height}j({viewbox:{viewbox(s,t,e,i){return s==null?new ot(this.attr("viewBox")):this.attr("viewBox",new ot(s,t,e,i))},zoom(s,t){let{width:e,height:i}=this.attr(["width","height"]);if((!e&&!i||typeof e=="string"||typeof i=="string")&&(e=this.node.clientWidth,i=this.node.clientHeight),!e||!i)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const n=this.viewbox(),r=e/n.width,f=i/n.height,o=Math.min(r,f);if(s==null)return o;let u=o/s;u===1/0&&(u=Number.MAX_SAFE_INTEGER/100),t=t||new V(e/2/r+n.x,i/2/f+n.y);const _=new ot(n).transform(new E({scale:u,origin:t}));return this.viewbox(_)}}});B(ot,"Box");class Xt extends Array{constructor(t=[],...e){if(super(t,...e),typeof t=="number")return this;this.length=0,this.push(...t)}}J([Xt],{each(s,...t){return typeof s=="function"?this.map((e,i,n)=>s.call(e,e,i,n)):this.map(e=>e[s](...t))},toArray(){return Array.prototype.concat.apply([],this)}});const Ir=["toArray","constructor","each"];Xt.extend=function(s){s=s.reduce((t,e)=>(Ir.includes(e)||e[0]==="_"||(e in Array.prototype&&(t["$"+e]=Array.prototype[e]),t[e]=function(...i){return this.each(e,...i)}),t),{}),J([Xt],s)};function fe(s,t){return new Xt(bs((t||F.document).querySelectorAll(s),function(e){return Rt(e)}))}function jr(s){return fe(s,this.node)}function Dr(s){return Rt(this.node.querySelector(s))}let Lr=0;const Oi={};function ki(s){let t=s.getEventHolder();return t===F.window&&(t=Oi),t.events||(t.events={}),t.events}function As(s){return s.getEventTarget()}function Pr(s){let t=s.getEventHolder();t===F.window&&(t=Oi),t.events&&(t.events={})}function us(s,t,e,i,n){const r=e.bind(i||s),f=_t(s),o=ki(f),u=As(f);t=Array.isArray(t)?t:t.split($t),e._svgjsListenerId||(e._svgjsListenerId=++Lr),t.forEach(function(_){const c=_.split(".")[0],m=_.split(".")[1]||"*";o[c]=o[c]||{},o[c][m]=o[c][m]||{},o[c][m][e._svgjsListenerId]=r,u.addEventListener(c,r,n||!1)})}function se(s,t,e,i){const n=_t(s),r=ki(n),f=As(n);typeof e=="function"&&(e=e._svgjsListenerId,!e)||(t=Array.isArray(t)?t:(t||"").split($t),t.forEach(function(o){const u=o&&o.split(".")[0],_=o&&o.split(".")[1];let c,m;if(e)r[u]&&r[u][_||"*"]&&(f.removeEventListener(u,r[u][_||"*"][e],i||!1),delete r[u][_||"*"][e]);else if(u&&_){if(r[u]&&r[u][_]){for(m in r[u][_])se(f,[u,_].join("."),m);delete r[u][_]}}else if(_)for(o in r)for(c in r[o])_===c&&se(f,[o,_].join("."));else if(u){if(r[u]){for(c in r[u])se(f,[u,c].join("."));delete r[u]}}else{for(o in r)se(f,o);Pr(n)}}))}function Jr(s,t,e,i){const n=As(s);return t instanceof F.window.Event||(t=new F.window.CustomEvent(t,{detail:e,cancelable:!0,...i})),n.dispatchEvent(t),t}class be extends Ss{addEventListener(){}dispatch(t,e,i){return Jr(this,t,e,i)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const i=e[t.type];for(const n in i)for(const r in i[n])i[n][r](t);return!t.defaultPrevented}fire(t,e,i){return this.dispatch(t,e,i),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e,i){return se(this,t,e,i),this}on(t,e,i,n){return us(this,t,e,i,n),this}removeEventListener(){}}B(be,"EventTarget");function ci(){}const de={duration:400,ease:">",delay:0},qr={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class re extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return typeof t=="number"?this:(this.length=0,this.push(...this.parse(t)),this)}parse(t=[]){return t instanceof Array?t:t.trim().split($t).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class I{constructor(...t){this.init(...t)}convert(t){return new I(this.value,t)}divide(t){return t=new I(t),new I(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"",typeof t=="number"?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:typeof t=="string"?(e=t.match(Ci),e&&(this.value=parseFloat(e[1]),e[5]==="%"?this.value/=100:e[5]==="s"&&(this.value*=1e3),this.unit=e[5])):t instanceof I&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new I(t),new I(this-t,this.unit||t.unit)}plus(t){return t=new I(t),new I(this+t,this.unit||t.unit)}times(t){return t=new I(t),new I(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(this.value*1e8)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Fr=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),zi=[];function Br(s){zi.push(s)}function Hr(s,t,e){if(s==null){s={},t=this.node.attributes;for(const i of t)s[i.nodeName]=li.test(i.nodeValue)?parseFloat(i.nodeValue):i.nodeValue;return s}else{if(s instanceof Array)return s.reduce((i,n)=>(i[n]=this.attr(n),i),{});if(typeof s=="object"&&s.constructor===Object)for(t in s)this.attr(t,s[t]);else if(t===null)this.node.removeAttribute(s);else{if(t==null)return t=this.node.getAttribute(s),t==null?qr[s]:li.test(t)?parseFloat(t):t;t=zi.reduce((i,n)=>n(s,i,this),t),typeof t=="number"?t=new I(t):Fr.has(s)&&W.isColor(t)?t=new W(t):t.constructor===Array&&(t=new re(t)),s==="leading"?this.leading&&this.leading(t):typeof e=="string"?this.node.setAttributeNS(e,s,t.toString()):this.node.setAttribute(s,t.toString()),this.rebuild&&(s==="font-size"||s==="x")&&this.rebuild()}}return this}class Jt extends be{constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return t=_t(t),t.removeNamespace&&this.node instanceof F.window.SVGElement&&t.removeNamespace(),e==null?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return _t(t).put(this,e)}children(){return new Xt(bs(this.node.children,function(t){return Rt(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,e=!0){this.writeDataToDom();let i=this.node.cloneNode(t);return e&&(i=Ai(i)),new this.constructor(i)}each(t,e){const i=this.children();let n,r;for(n=0,r=i.length;n<r;n++)t.apply(i[n],[n,i]),e&&i[n].each(t,e);return this}element(t,e){return this.put(new Jt(ne(t),e))}first(){return Rt(this.node.firstChild)}get(t){return Rt(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,Bn)}id(t){return typeof t>"u"&&!this.node.id&&(this.node.id=Ri(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return Rt(this.node.lastChild)}matches(t){const e=this.node,i=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return i&&i.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=Rt(e.node.parentNode),!t)return e;do if(typeof t=="string"?e.matches(t):e instanceof t)return e;while(e=Rt(e.node.parentNode));return e}put(t,e){return t=_t(t),this.add(t,e),t}putIn(t,e){return _t(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=_t(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){const i=10**t,n=this.attr(e);for(const r in n)typeof n[r]=="number"&&(n[r]=Math.round(n[r]*i)/i);return this.attr(n),this}svg(t,e){return this.xml(t,e,vs)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const e=this.parent();if(!e)return this.addTo(t);const i=e.index(this);return e.put(t,i).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,e,i){if(typeof t=="boolean"&&(i=e,e=t,t=null),t==null||typeof t=="function"){e=e??!0,this.writeDataToDom();let o=this;if(t!=null){if(o=Rt(o.node.cloneNode(!0)),e){const u=t(o);if(o=u||o,u===!1)return""}o.each(function(){const u=t(this),_=u||this;u===!1?this.remove():u&&this!==_&&this.replace(_)},!0)}return e?o.node.outerHTML:o.node.innerHTML}e=e??!1;const n=ne("wrapper",i),r=F.document.createDocumentFragment();n.innerHTML=t;for(let o=n.children.length;o--;)r.appendChild(n.firstElementChild);const f=this.parent();return e?this.replace(r)&&f:this.add(r)}}J(Jt,{attr:Hr,find:jr,findOne:Dr});B(Jt,"Dom");class Ot extends Jt{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(t.getAttribute("data-svgjs"))??JSON.parse(t.getAttribute("svgjs:data"))??{})}center(t,e){return this.cx(t).cy(e)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new I(t).plus(this.x()))}dy(t=0){return this.y(new I(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){const e=typeof t=="string";e||(t=_t(t));const i=new Xt;let n=this;for(;(n=n.parent())&&n.node!==F.document&&n.nodeName!=="#document-fragment"&&(i.push(n),!(!e&&n.node===t.node||e&&n.matches(t)));)if(n.node===this.root().node)return null;return i}reference(t){if(t=this.attr(t),!t)return null;const e=(t+"").match(fr);return e?_t(e[1]):null}root(){const t=this.parent(Un(Ts));return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const i=he(this,t,e);return this.width(new I(i.width)).height(new I(i.height))}width(t){return this.attr("width",t)}writeDataToDom(){return Ti(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}J(Ot,{bbox:zr,rbox:Mr,inside:$r,point:Nr,ctm:Er,screenCTM:Or});B(Ot,"Element");const le={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(s,t){return t==="color"?s:s+"-"+t}};["fill","stroke"].forEach(function(s){const t={};let e;t[s]=function(i){if(typeof i>"u")return this.attr(s);if(typeof i=="string"||i instanceof W||W.isRgb(i)||i instanceof Ot)this.attr(s,i);else for(e=le[s].length-1;e>=0;e--)i[le[s][e]]!=null&&this.attr(le.prefix(s,le[s][e]),i[le[s][e]]);return this},j(["Element","Runner"],t)});j(["Element","Runner"],{matrix:function(s,t,e,i,n,r){return s==null?new E(this):this.attr("transform",new E(s,t,e,i,n,r))},rotate:function(s,t,e){return this.transform({rotate:s,ox:t,oy:e},!0)},skew:function(s,t,e,i){return arguments.length===1||arguments.length===3?this.transform({skew:s,ox:t,oy:e},!0):this.transform({skew:[s,t],ox:e,oy:i},!0)},shear:function(s,t,e){return this.transform({shear:s,ox:t,oy:e},!0)},scale:function(s,t,e,i){return arguments.length===1||arguments.length===3?this.transform({scale:s,ox:t,oy:e},!0):this.transform({scale:[s,t],ox:e,oy:i},!0)},translate:function(s,t){return this.transform({translate:[s,t]},!0)},relative:function(s,t){return this.transform({relative:[s,t]},!0)},flip:function(s="both",t="center"){return"xybothtrue".indexOf(s)===-1&&(t=s,s="both"),this.transform({flip:s,origin:t},!0)},opacity:function(s){return this.attr("opacity",s)}});j("radius",{radius:function(s,t=s){return(this._element||this).type==="radialGradient"?this.attr("r",new I(s)):this.rx(s).ry(t)}});j("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(s){return new V(this.node.getPointAtLength(s))}});j(["Element","Runner"],{font:function(s,t){if(typeof s=="object"){for(t in s)this.font(t,s[t]);return this}return s==="leading"?this.leading(t):s==="anchor"?this.attr("text-anchor",t):s==="size"||s==="family"||s==="weight"||s==="stretch"||s==="variant"||s==="style"?this.attr("font-"+s,t):this.attr(s,t)}});const Ur=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(s,t){const e=function(i){return i===null?this.off(t):this.on(t,i),this};return s[t]=e,s},{});j("Element",Ur);function Gr(){return this.attr("transform",null)}function Yr(){return(this.attr("transform")||"").split(or).slice(0,-1).map(function(t){const e=t.trim().split("(");return[e[0],e[1].split($t).map(function(i){return parseFloat(i)})]}).reverse().reduce(function(t,e){return e[0]==="matrix"?t.lmultiply(E.fromArray(e[1])):t[e[0]].apply(t,e[1])},new E)}function Wr(s,t){if(this===s)return this;if(as(this.node))return this.addTo(s,t);const e=this.screenCTM(),i=s.screenCTM().inverse();return this.addTo(s,t).untransform().transform(i.multiply(e)),this}function Vr(s){return this.toParent(this.root(),s)}function Xr(s,t){if(s==null||typeof s=="string"){const n=new E(this).decompose();return s==null?n:n[s]}E.isMatrixLike(s)||(s={...s,origin:os(s,this)});const e=t===!0?this:t||!1,i=new E(e).transform(s);return this.attr("transform",i)}j("Element",{untransform:Gr,matrixify:Yr,toParent:Wr,toRoot:Vr,transform:Xr});class gt extends Ot{flatten(){return this.each(function(){if(this instanceof gt)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),e=t.index(this)){return e=e===-1?t.children().length:e,this.each(function(i,n){return n[n.length-i-1].toParent(t,e)}),this.remove()}}B(gt,"Container");class Cs extends gt{constructor(t,e=t){super(Z("defs",t),e)}flatten(){return this}ungroup(){return this}}B(Cs,"Defs");class xt extends Ot{}B(xt,"Shape");function Ns(s){return this.attr("rx",s)}function Es(s){return this.attr("ry",s)}function Mi(s){return s==null?this.cx()-this.rx():this.cx(s+this.rx())}function $i(s){return s==null?this.cy()-this.ry():this.cy(s+this.ry())}function Ii(s){return this.attr("cx",s)}function ji(s){return this.attr("cy",s)}function Di(s){return s==null?this.rx()*2:this.rx(new I(s).divide(2))}function Li(s){return s==null?this.ry()*2:this.ry(new I(s).divide(2))}const Qr=Object.freeze(Object.defineProperty({__proto__:null,cx:Ii,cy:ji,height:Li,rx:Ns,ry:Es,width:Di,x:Mi,y:$i},Symbol.toStringTag,{value:"Module"}));class Be extends xt{constructor(t,e=t){super(Z("ellipse",t),e)}size(t,e){const i=he(this,t,e);return this.rx(new I(i.width).divide(2)).ry(new I(i.height).divide(2))}}J(Be,Qr);j("Container",{ellipse:Q(function(s=0,t=s){return this.put(new Be).size(s,t).move(0,0)})});B(Be,"Ellipse");class Pi extends Jt{constructor(t=F.document.createDocumentFragment()){super(t)}xml(t,e,i){if(typeof t=="boolean"&&(i=e,e=t,t=null),t==null||typeof t=="function"){const n=new Jt(ne("wrapper",i));return n.add(this.node.cloneNode(!0)),n.xml(!1,i)}return super.xml(t,!1,i)}}B(Pi,"Fragment");function Ji(s,t){return(this._element||this).type==="radialGradient"?this.attr({fx:new I(s),fy:new I(t)}):this.attr({x1:new I(s),y1:new I(t)})}function qi(s,t){return(this._element||this).type==="radialGradient"?this.attr({cx:new I(s),cy:new I(t)}):this.attr({x2:new I(s),y2:new I(t)})}const Zr=Object.freeze(Object.defineProperty({__proto__:null,from:Ji,to:qi},Symbol.toStringTag,{value:"Module"}));class ve extends gt{constructor(t,e){super(Z(t+"Gradient",typeof t=="string"?null:t),e)}attr(t,e,i){return t==="transform"&&(t="gradientTransform"),super.attr(t,e,i)}bbox(){return new ot}targets(){return fe("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}J(ve,Zr);j({Container:{gradient(...s){return this.defs().gradient(...s)}},Defs:{gradient:Q(function(s,t){return this.put(new ve(s)).update(t)})}});B(ve,"Gradient");class ge extends gt{constructor(t,e=t){super(Z("pattern",t),e)}attr(t,e,i){return t==="transform"&&(t="patternTransform"),super.attr(t,e,i)}bbox(){return new ot}targets(){return fe("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}j({Container:{pattern(...s){return this.defs().pattern(...s)}},Defs:{pattern:Q(function(s,t,e){return this.put(new ge).update(e).attr({x:0,y:0,width:s,height:t,patternUnits:"userSpaceOnUse"})})}});B(ge,"Pattern");class He extends xt{constructor(t,e=t){super(Z("image",t),e)}load(t,e){if(!t)return this;const i=new F.window.Image;return us(i,"load",function(n){const r=this.parent(ge);this.width()===0&&this.height()===0&&this.size(i.width,i.height),r instanceof ge&&r.width()===0&&r.height()===0&&r.size(this.width(),this.height()),typeof e=="function"&&e.call(this,n)},this),us(i,"load error",function(){se(i)}),this.attr("href",i.src=t,xe)}}Br(function(s,t,e){return(s==="fill"||s==="stroke")&&ur.test(t)&&(t=e.root().defs().image(t)),t instanceof He&&(t=e.root().defs().pattern(0,0,i=>{i.add(t)})),t});j({Container:{image:Q(function(s,t){return this.put(new He).size(0,0).load(s,t)})}});B(He,"Image");class qt extends re{bbox(){let t=-1/0,e=-1/0,i=1/0,n=1/0;return this.forEach(function(r){t=Math.max(r[0],t),e=Math.max(r[1],e),i=Math.min(r[0],i),n=Math.min(r[1],n)}),new ot(i,n,t-i,e-n)}move(t,e){const i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(let n=this.length-1;n>=0;n--)this[n]=[this[n][0]+t,this[n][1]+e];return this}parse(t=[0,0]){const e=[];t instanceof Array?t=Array.prototype.concat.apply([],t):t=t.trim().split($t).map(parseFloat),t.length%2!==0&&t.pop();for(let i=0,n=t.length;i<n;i=i+2)e.push([t[i],t[i+1]]);return e}size(t,e){let i;const n=this.bbox();for(i=this.length-1;i>=0;i--)n.width&&(this[i][0]=(this[i][0]-n.x)*t/n.width+n.x),n.height&&(this[i][1]=(this[i][1]-n.y)*e/n.height+n.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let e=0,i=this.length;e<i;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){E.isMatrixLike(t)||(t=new E(t));for(let e=this.length;e--;){const[i,n]=this[e];this[e][0]=t.a*i+t.c*n+t.e,this[e][1]=t.b*i+t.d*n+t.f}return this}}const Kr=qt;function th(s){return s==null?this.bbox().x:this.move(s,this.bbox().y)}function eh(s){return s==null?this.bbox().y:this.move(this.bbox().x,s)}function sh(s){const t=this.bbox();return s==null?t.width:this.size(s,t.height)}function ih(s){const t=this.bbox();return s==null?t.height:this.size(t.width,s)}const Os=Object.freeze(Object.defineProperty({__proto__:null,MorphArray:Kr,height:ih,width:sh,x:th,y:eh},Symbol.toStringTag,{value:"Module"}));class me extends xt{constructor(t,e=t){super(Z("line",t),e)}array(){return new qt([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,i,n){return t==null?this.array():(typeof e<"u"?t={x1:t,y1:e,x2:i,y2:n}:t=new qt(t).toLine(),this.attr(t))}size(t,e){const i=he(this,t,e);return this.attr(this.array().size(i.width,i.height).toLine())}}J(me,Os);j({Container:{line:Q(function(...s){return me.prototype.plot.apply(this.put(new me),s[0]!=null?s:[0,0,0,0])})}});B(me,"Line");class je extends gt{constructor(t,e=t){super(Z("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}j({Container:{marker(...s){return this.defs().marker(...s)}},Defs:{marker:Q(function(s,t,e){return this.put(new je).size(s,t).ref(s/2,t/2).viewbox(0,0,s,t).attr("orient","auto").update(e)})},marker:{marker(s,t,e,i){let n=["marker"];return s!=="all"&&n.push(s),n=n.join("-"),s=arguments[1]instanceof je?arguments[1]:this.defs().marker(t,e,i),this.attr(n,s)}}});B(je,"Marker");function ie(s,t){return function(e){return e==null?this[s]:(this[s]=e,t&&t.call(this),this)}}const nh={"-":function(s){return s},"<>":function(s){return-Math.cos(s*Math.PI)/2+.5},">":function(s){return Math.sin(s*Math.PI/2)},"<":function(s){return-Math.cos(s*Math.PI/2)+1},bezier:function(s,t,e,i){return function(n){return n<0?s>0?t/s*n:e>0?i/e*n:0:n>1?e<1?(1-i)/(1-e)*n+(i-e)/(1-e):s<1?(1-t)/(1-s)*n+(t-s)/(1-s):1:3*n*(1-n)**2*t+3*n**2*(1-n)*i+n**3}},steps:function(s,t="end"){t=t.split("-").reverse()[0];let e=s;return t==="none"?--e:t==="both"&&++e,(i,n=!1)=>{let r=Math.floor(i*s);const f=i*r%1===0;return(t==="start"||t==="both")&&++r,n&&f&&--r,i>=0&&r<0&&(r=0),i<=1&&r>e&&(r=e),r/e}}};class ks{done(){return!1}}class ls extends ks{constructor(t=de.ease){super(),this.ease=nh[t]||t}step(t,e,i){return typeof t!="number"?i<1?t:e:t+(e-t)*this.ease(i)}}class De extends ks{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,e,i,n){return this.stepper(t,e,i,n)}}function _i(){const s=(this._duration||500)/1e3,t=this._overshoot||0,e=1e-10,i=Math.PI,n=Math.log(t/100+e),r=-n/Math.sqrt(i*i+n*n),f=3.9/(r*s);this.d=2*r*f,this.k=f*f}class rh extends De{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,i,n){if(typeof t=="string")return t;if(n.done=i===1/0,i===1/0)return e;if(i===0)return t;i>100&&(i=16),i/=1e3;const r=n.velocity||0,f=-this.d*r-this.k*(t-e),o=t+r*i+f*i*i/2;return n.velocity=r+f*i,n.done=Math.abs(e-o)+Math.abs(r)<.002,n.done?e:o}}J(rh,{duration:ie("_duration",_i),overshoot:ie("_overshoot",_i)});class hh extends De{constructor(t=.1,e=.01,i=0,n=1e3){super(),this.p(t).i(e).d(i).windup(n)}step(t,e,i,n){if(typeof t=="string")return t;if(n.done=i===1/0,i===1/0)return e;if(i===0)return t;const r=e-t;let f=(n.integral||0)+r*i;const o=(r-(n.error||0))/i,u=this._windup;return u!==!1&&(f=Math.max(-u,Math.min(f,u))),n.error=r,n.integral=f,n.done=Math.abs(r)<.001,n.done?e:t+(this.P*r+this.I*f+this.D*o)}}J(hh,{windup:ie("_windup"),p:ie("P"),i:ie("I"),d:ie("D")});const fh={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},cs={M:function(s,t,e){return t.x=e.x=s[0],t.y=e.y=s[1],["M",t.x,t.y]},L:function(s,t){return t.x=s[0],t.y=s[1],["L",s[0],s[1]]},H:function(s,t){return t.x=s[0],["H",s[0]]},V:function(s,t){return t.y=s[0],["V",s[0]]},C:function(s,t){return t.x=s[4],t.y=s[5],["C",s[0],s[1],s[2],s[3],s[4],s[5]]},S:function(s,t){return t.x=s[2],t.y=s[3],["S",s[0],s[1],s[2],s[3]]},Q:function(s,t){return t.x=s[2],t.y=s[3],["Q",s[0],s[1],s[2],s[3]]},T:function(s,t){return t.x=s[0],t.y=s[1],["T",s[0],s[1]]},Z:function(s,t,e){return t.x=e.x,t.y=e.y,["Z"]},A:function(s,t){return t.x=s[5],t.y=s[6],["A",s[0],s[1],s[2],s[3],s[4],s[5],s[6]]}},ns="mlhvqtcsaz".split("");for(let s=0,t=ns.length;s<t;++s)cs[ns[s]]=function(e){return function(i,n,r){if(e==="H")i[0]=i[0]+n.x;else if(e==="V")i[0]=i[0]+n.y;else if(e==="A")i[5]=i[5]+n.x,i[6]=i[6]+n.y;else for(let f=0,o=i.length;f<o;++f)i[f]=i[f]+(f%2?n.y:n.x);return cs[e](i,n,r)}}(ns[s].toUpperCase());function oh(s){const t=s.segment[0];return cs[t](s.segment.slice(1),s.p,s.p0)}function _s(s){return s.segment.length&&s.segment.length-1===fh[s.segment[0].toUpperCase()]}function ah(s,t){s.inNumber&&Gt(s,!1);const e=Rs.test(t);if(e)s.segment=[t];else{const i=s.lastCommand,n=i.toLowerCase(),r=i===n;s.segment=[n==="m"?r?"l":"L":i]}return s.inSegment=!0,s.lastCommand=s.segment[0],e}function Gt(s,t){if(!s.inNumber)throw new Error("Parser Error");s.number&&s.segment.push(parseFloat(s.number)),s.inNumber=t,s.number="",s.pointSeen=!1,s.hasExponent=!1,_s(s)&&ps(s)}function ps(s){s.inSegment=!1,s.absolute&&(s.segment=oh(s)),s.segments.push(s.segment)}function uh(s){if(!s.segment.length)return!1;const t=s.segment[0].toUpperCase()==="A",e=s.segment.length;return t&&(e===4||e===5)}function lh(s){return s.lastToken.toUpperCase()==="E"}const ch=new Set([" ",",","	",`
`,"\r","\f"]);function _h(s,t=!0){let e=0,i="";const n={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:t,p0:new V,p:new V};for(;n.lastToken=i,i=s.charAt(e++);)if(!(!n.inSegment&&ah(n,i))){if(i==="."){if(n.pointSeen||n.hasExponent){Gt(n,!1),--e;continue}n.inNumber=!0,n.pointSeen=!0,n.number+=i;continue}if(!isNaN(parseInt(i))){if(n.number==="0"||uh(n)){n.inNumber=!0,n.number=i,Gt(n,!0);continue}n.inNumber=!0,n.number+=i;continue}if(ch.has(i)){n.inNumber&&Gt(n,!1);continue}if(i==="-"||i==="+"){if(n.inNumber&&!lh(n)){Gt(n,!1),--e;continue}n.number+=i,n.inNumber=!0;continue}if(i.toUpperCase()==="E"){n.number+=i,n.hasExponent=!0;continue}if(Rs.test(i)){if(n.inNumber)Gt(n,!1);else if(_s(n))ps(n);else throw new Error("parser Error");--e}}return n.inNumber&&Gt(n,!1),n.inSegment&&_s(n)&&ps(n),n.segments}function ph(s){let t="";for(let e=0,i=s.length;e<i;e++)t+=s[e][0],s[e][1]!=null&&(t+=s[e][1],s[e][2]!=null&&(t+=" ",t+=s[e][2],s[e][3]!=null&&(t+=" ",t+=s[e][3],t+=" ",t+=s[e][4],s[e][5]!=null&&(t+=" ",t+=s[e][5],t+=" ",t+=s[e][6],s[e][7]!=null&&(t+=" ",t+=s[e][7])))));return t+" "}class Qt extends re{bbox(){return Pt().path.setAttribute("d",this.toString()),new ot(Pt.nodes.path.getBBox())}move(t,e){const i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(let n,r=this.length-1;r>=0;r--)n=this[r][0],n==="M"||n==="L"||n==="T"?(this[r][1]+=t,this[r][2]+=e):n==="H"?this[r][1]+=t:n==="V"?this[r][1]+=e:n==="C"||n==="S"||n==="Q"?(this[r][1]+=t,this[r][2]+=e,this[r][3]+=t,this[r][4]+=e,n==="C"&&(this[r][5]+=t,this[r][6]+=e)):n==="A"&&(this[r][6]+=t,this[r][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),_h(t)}size(t,e){const i=this.bbox();let n,r;for(i.width=i.width===0?1:i.width,i.height=i.height===0?1:i.height,n=this.length-1;n>=0;n--)r=this[n][0],r==="M"||r==="L"||r==="T"?(this[n][1]=(this[n][1]-i.x)*t/i.width+i.x,this[n][2]=(this[n][2]-i.y)*e/i.height+i.y):r==="H"?this[n][1]=(this[n][1]-i.x)*t/i.width+i.x:r==="V"?this[n][1]=(this[n][1]-i.y)*e/i.height+i.y:r==="C"||r==="S"||r==="Q"?(this[n][1]=(this[n][1]-i.x)*t/i.width+i.x,this[n][2]=(this[n][2]-i.y)*e/i.height+i.y,this[n][3]=(this[n][3]-i.x)*t/i.width+i.x,this[n][4]=(this[n][4]-i.y)*e/i.height+i.y,r==="C"&&(this[n][5]=(this[n][5]-i.x)*t/i.width+i.x,this[n][6]=(this[n][6]-i.y)*e/i.height+i.y)):r==="A"&&(this[n][1]=this[n][1]*t/i.width,this[n][2]=this[n][2]*e/i.height,this[n][6]=(this[n][6]-i.x)*t/i.width+i.x,this[n][7]=(this[n][7]-i.y)*e/i.height+i.y);return this}toString(){return ph(this)}}const Fi=s=>{const t=typeof s;return t==="number"?I:t==="string"?W.isColor(s)?W:$t.test(s)?Rs.test(s)?Qt:re:Ci.test(s)?I:ds:zs.indexOf(s.constructor)>-1?s.constructor:Array.isArray(s)?re:t==="object"?ye:ds};class Yt{constructor(t){this._stepper=t||new ls("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,i){return e&&i},!0)}from(t){return t==null?this._from:(this._from=this._set(t),this)}stepper(t){return t==null?this._stepper:(this._stepper=t,this)}to(t){return t==null?this._to:(this._to=this._set(t),this)}type(t){return t==null?this._type:(this._type=t,this)}_set(t){this._type||this.type(Fi(t));let e=new this._type(t);return this._type===W&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===ye&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map(function(i){return i.done=!0,i}),e}}class ds{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class Se{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,Se.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}Se.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const dh=(s,t)=>s[0]<t[0]?-1:s[0]>t[0]?1:0;class ye{constructor(...t){this.init(...t)}align(t){const e=this.values;for(let i=0,n=e.length;i<n;++i){if(e[i+1]===t[i+1]){if(e[i+1]===W&&t[i+7]!==e[i+7]){const o=t[i+7],u=new W(this.values.splice(i+3,5))[o]().toArray();this.values.splice(i+3,0,...u)}i+=e[i+2]+2;continue}if(!t[i+1])return this;const r=new t[i+1]().toArray(),f=e[i+2]+3;e.splice(i,f,t[i],t[i+1],t[i+2],...r),i+=e[i+2]+2}return this}init(t){if(this.values=[],Array.isArray(t)){this.values=t.slice();return}t=t||{};const e=[];for(const i in t){const n=Fi(t[i]),r=new n(t[i]).toArray();e.push([i,n,r.length,...r])}return e.sort(dh),this.values=e.reduce((i,n)=>i.concat(n),[]),this}toArray(){return this.values}valueOf(){const t={},e=this.values;for(;e.length;){const i=e.shift(),n=e.shift(),r=e.shift(),f=e.splice(0,r);t[i]=new n(f)}return t}}const zs=[ds,Se,ye];function gh(s=[]){zs.push(...[].concat(s))}function mh(){J(zs,{to(s){return new Yt().type(this.constructor).from(this.toArray()).to(s)},fromArray(s){return this.init(s),this},toConsumable(){return this.toArray()},morph(s,t,e,i,n){const r=function(f,o){return i.step(f,t[o],e,n[o],n)};return this.fromArray(s.map(r))}})}class oe extends xt{constructor(t,e=t){super(Z("path",t),e)}array(){return this._array||(this._array=new Qt(this.attr("d")))}clear(){return delete this._array,this}height(t){return t==null?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return t==null?this.array():this.clear().attr("d",typeof t=="string"?t:this._array=new Qt(t))}size(t,e){const i=he(this,t,e);return this.attr("d",this.array().size(i.width,i.height))}width(t){return t==null?this.bbox().width:this.size(t,this.bbox().height)}x(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}y(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}}oe.prototype.MorphArray=Qt;j({Container:{path:Q(function(s){return this.put(new oe).plot(s||new Qt)})}});B(oe,"Path");function yh(){return this._array||(this._array=new qt(this.attr("points")))}function wh(){return delete this._array,this}function xh(s,t){return this.attr("points",this.array().move(s,t))}function bh(s){return s==null?this.array():this.clear().attr("points",typeof s=="string"?s:this._array=new qt(s))}function vh(s,t){const e=he(this,s,t);return this.attr("points",this.array().size(e.width,e.height))}const Bi=Object.freeze(Object.defineProperty({__proto__:null,array:yh,clear:wh,move:xh,plot:bh,size:vh},Symbol.toStringTag,{value:"Module"}));class Te extends xt{constructor(t,e=t){super(Z("polygon",t),e)}}j({Container:{polygon:Q(function(s){return this.put(new Te).plot(s||new qt)})}});J(Te,Os);J(Te,Bi);B(Te,"Polygon");class Re extends xt{constructor(t,e=t){super(Z("polyline",t),e)}}j({Container:{polyline:Q(function(s){return this.put(new Re).plot(s||new qt)})}});J(Re,Os);J(Re,Bi);B(Re,"Polyline");class Ue extends xt{constructor(t,e=t){super(Z("rect",t),e)}}J(Ue,{rx:Ns,ry:Es});j({Container:{rect:Q(function(s,t){return this.put(new Ue).size(s,t)})}});B(Ue,"Rect");class rs{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const e=typeof t.next<"u"?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const U={nextDraw:null,frames:new rs,timeouts:new rs,immediates:new rs,timer:()=>F.window.performance||F.window.Date,transforms:[],frame(s){const t=U.frames.push({run:s});return U.nextDraw===null&&(U.nextDraw=F.window.requestAnimationFrame(U._draw)),t},timeout(s,t){t=t||0;const e=U.timer().now()+t,i=U.timeouts.push({run:s,time:e});return U.nextDraw===null&&(U.nextDraw=F.window.requestAnimationFrame(U._draw)),i},immediate(s){const t=U.immediates.push(s);return U.nextDraw===null&&(U.nextDraw=F.window.requestAnimationFrame(U._draw)),t},cancelFrame(s){s!=null&&U.frames.remove(s)},clearTimeout(s){s!=null&&U.timeouts.remove(s)},cancelImmediate(s){s!=null&&U.immediates.remove(s)},_draw(s){let t=null;const e=U.timeouts.last();for(;(t=U.timeouts.shift())&&(s>=t.time?t.run():U.timeouts.push(t),t!==e););let i=null;const n=U.frames.last();for(;i!==n&&(i=U.frames.shift());)i.run(s);let r=null;for(;r=U.immediates.shift();)r();U.nextDraw=U.timeouts.first()||U.frames.first()?F.window.requestAnimationFrame(U._draw):null}},Sh=function(s){const t=s.start,e=s.runner.duration(),i=t+e;return{start:t,duration:e,end:i,runner:s.runner}},Th=function(){const s=F.window;return(s.performance||s.Date).now()};class Hi extends be{constructor(t=Th){super(),this._timeSource=t,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){const t=this._runners.map(e=>e.start+e.runner.duration());return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return t==null?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const e=this.speed();if(t==null)return this.speed(-e);const i=Math.abs(e);return this.speed(t?-i:i)}schedule(t,e,i){if(t==null)return this._runners.map(Sh);let n=0;const r=this.getEndTime();if(e=e||0,i==null||i==="last"||i==="after")n=r;else if(i==="absolute"||i==="start")n=e,e=0;else if(i==="now")n=this._time;else if(i==="relative"){const u=this.getRunnerInfoById(t.id);u&&(n=u.start+e,e=0)}else if(i==="with-last"){const u=this.getLastRunnerInfo();n=u?u.start:this._time}else throw new Error('Invalid value for the "when" parameter');t.unschedule(),t.timeline(this);const f=t.persist(),o={persist:f===null?this._persist:f,start:n+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(o),this._runners.sort((u,_)=>u.start-_.start),this._runnerIds=this._runners.map(u=>u.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return t==null?this._timeSource:(this._timeSource=t,this)}speed(t){return t==null?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return t==null?this._time:(this._time=t,this._continue(!0))}unschedule(t){const e=this._runnerIds.indexOf(t.id);return e<0?this:(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return U.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():this._paused?this:(this._nextFrame=U.frame(this._step),this)}_stepFn(t=!1){const e=this._timeSource();let i=e-this._lastSourceTime;t&&(i=0);const n=this._speed*i+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=n,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let f=this._runners.length;f--;){const o=this._runners[f],u=o.runner;this._time-o.start<=0&&u.reset()}let r=!1;for(let f=0,o=this._runners.length;f<o;f++){const u=this._runners[f],_=u.runner;let c=n;const m=this._time-u.start;if(m<=0){r=!0;continue}else m<c&&(c=m);if(!_.active())continue;_.step(c).done?u.persist!==!0&&_.duration()-_.time()+this._time+u.persist<this._time&&(_.unschedule(),--f,--o):r=!0}return r&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}j({Element:{timeline:function(s){return s==null?(this._timeline=this._timeline||new Hi,this._timeline):(this._timeline=s,this)}}});class wt extends be{constructor(t){super(),this.id=wt.id++,t=t??de.duration,t=typeof t=="function"?new De(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof t=="number"&&t,this._isDeclarative=t instanceof De,this._stepper=this._isDeclarative?t:new ls,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new E,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=this._isDeclarative?!0:null}static sanitise(t,e,i){let n=1,r=!1,f=0;return t=t??de.duration,e=e??de.delay,i=i||"last",typeof t=="object"&&!(t instanceof ks)&&(e=t.delay??e,i=t.when??i,r=t.swing||r,n=t.times??n,f=t.wait??f,t=t.duration??de.duration),{duration:t,delay:e,swing:r,times:n,wait:f,when:i}}active(t){return t==null?this.enabled:(this.enabled=t,this)}addTransform(t){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,i){const n=wt.sanitise(t,e,i),r=new wt(n.duration);return this._timeline&&r.timeline(this._timeline),this._element&&r.element(this._element),r.loop(n).schedule(n.delay,n.when)}clearTransform(){return this.transforms=new E,this}clearTransformsFromQueue(){(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id))&&(this._queue=this._queue.filter(t=>!t.isTransform))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new ls(t),this}element(t){return t==null?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,i){return typeof t=="object"&&(e=t.swing,i=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=i||0,this._times===!0&&(this._times=1/0),this}loops(t){const e=this._duration+this._wait;if(t==null){const f=Math.floor(this._time/e),u=(this._time-f*e)/this._duration;return Math.min(f+u,this._times)}const i=Math.floor(t),n=t%1,r=e*i+this._duration*n;return this.time(r)}persist(t){return t==null?this._persist:(this._persist=t,this)}position(t){const e=this._time,i=this._duration,n=this._wait,r=this._times,f=this._swing,o=this._reverse;let u;if(t==null){const O=function(R){const D=f*Math.floor(R%(2*(n+i))/(n+i)),M=D&&!o||!D&&o,P=Math.pow(-1,M)*(R%(n+i))/i+M;return Math.max(Math.min(P,1),0)},C=r*(n+i)-n;return u=e<=0?Math.round(O(1e-5)):e<C?O(e):Math.round(O(C-1e-5)),u}const _=Math.floor(this.loops()),c=f&&_%2===0;return u=_+(c&&!o||o&&c?t:1-t),this.loops(u)}progress(t){return t==null?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,i,n){return this._queue.push({initialiser:t||ci,runner:e||ci,retarget:i,isTransform:n,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(t){return this._reverse=t??!this._reverse,this}schedule(t,e,i){if(t instanceof Hi||(i=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,i),this}step(t){if(!this.enabled)return this;t=t??16,this._time+=t;const e=this.position(),i=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;const n=this.duration(),r=this._lastTime<=0&&this._time>0,f=this._lastTime<n&&this._time>=n;this._lastTime=this._time,r&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!f&&this._time>=n,this._reseted=!1;let u=!1;return(i||o)&&(this._initialise(i),this.transforms=new E,u=this._run(o?t:e),this.fire("step",this)),this.done=this.done||u&&o,f&&this.fire("finished",this),this}time(t){if(t==null)return this._time;const e=t-this._time;return this.step(e),this}timeline(t){return typeof t>"u"?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(!(!t&&!this._isDeclarative))for(let e=0,i=this._queue.length;e<i;++e){const n=this._queue[e],r=this._isDeclarative||!n.initialised&&t;t=!n.finished,r&&t&&(n.initialiser.call(this),n.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){const i=this.timeline();i&&i.play()}}_run(t){let e=!0;for(let i=0,n=this._queue.length;i<n;++i){const r=this._queue[i],f=r.runner.call(this,t);r.finished=r.finished||f===!0,e=e&&r.finished}return e}_tryRetarget(t,e,i){if(this._history[t]){if(!this._history[t].caller.initialised){const r=this._queue.indexOf(this._history[t].caller);return this._queue.splice(r,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,i):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;const n=this.timeline();return n&&n.play(),!0}return!1}}wt.id=0;class Le{constructor(t=new E,e=-1,i=!0){this.transforms=t,this.id=e,this.done=i}clearTransformsFromQueue(){}}J([wt,Le],{mergeWith(s){return new Le(s.transforms.lmultiply(this.transforms),s.id)}});const Ui=(s,t)=>s.lmultiplyO(t),Gi=s=>s.transforms;function Rh(){const t=this._transformationRunners.runners.map(Gi).reduce(Ui,new E);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class Ah{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new Le).forEach(i=>i.clearTransformsFromQueue()),this}edit(t,e){const i=this.ids.indexOf(t+1);return this.ids.splice(i,1,t+1),this.runners.splice(i,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){const i=this.runners[e];if(t&&i.done&&t.done&&(!i._timeline||!i._timeline._runnerIds.includes(i.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))){this.remove(i.id);const r=i.mergeWith(t);this.edit(t.id,r),t=r,--e}else t=i}return this}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}}j({Element:{animate(s,t,e){const i=wt.sanitise(s,t,e),n=this.timeline();return new wt(i.duration).loop(i).element(this).timeline(n.play()).schedule(i.delay,i.when)},delay(s,t){return this.animate(0,s,t)},_clearTransformRunnersBefore(s){this._transformationRunners.clearBefore(s.id)},_currentTransform(s){return this._transformationRunners.runners.filter(t=>t.id<=s.id).map(Gi).reduce(Ui,new E)},_addRunner(s){this._transformationRunners.add(s),U.cancelImmediate(this._frameId),this._frameId=U.immediate(Rh.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new Ah().add(new Le(new E(this))))}}});const Ch=(s,t)=>s.filter(e=>!t.includes(e));J(wt,{attr(s,t){return this.styleAttr("attr",s,t)},css(s,t){return this.styleAttr("css",s,t)},styleAttr(s,t,e){if(typeof t=="string")return this.styleAttr(s,{[t]:e});let i=t;if(this._tryRetarget(s,i))return this;let n=new Yt(this._stepper).to(i),r=Object.keys(i);return this.queue(function(){n=n.from(this.element()[s](r))},function(f){return this.element()[s](n.at(f).valueOf()),n.done()},function(f){const o=Object.keys(f),u=Ch(o,r);if(u.length){const c=this.element()[s](u),m=new ye(n.from()).valueOf();Object.assign(m,c),n.from(m)}const _=new ye(n.to()).valueOf();Object.assign(_,f),n.to(_),r=o,i=f}),this._rememberMorpher(s,n),this},zoom(s,t){if(this._tryRetarget("zoom",s,t))return this;let e=new Yt(this._stepper).to(new I(s));return this.queue(function(){e=e.from(this.element().zoom())},function(i){return this.element().zoom(e.at(i),t),e.done()},function(i,n){t=n,e.to(i)}),this._rememberMorpher("zoom",e),this},transform(s,t,e){if(t=s.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",s))return this;const i=E.isMatrixLike(s);e=s.affine!=null?s.affine:e??!i;const n=new Yt(this._stepper).type(e?Se:E);let r,f,o,u,_;function c(){f=f||this.element(),r=r||os(s,f),_=new E(t?void 0:f),f._addRunner(this),t||f._clearTransformRunnersBefore(this)}function m(C){t||this.clearTransform();const{x:R,y:D}=new V(r).transform(f._currentTransform(this));let M=new E({...s,origin:[R,D]}),P=this._isDeclarative&&o?o:_;if(e){M=M.decompose(R,D),P=P.decompose(R,D);const rt=M.rotate,K=P.rotate,yt=[rt-360,rt,rt+360],bt=yt.map(at=>Math.abs(at-K)),kt=Math.min(...bt),Y=bt.indexOf(kt);M.rotate=yt[Y]}t&&(i||(M.rotate=s.rotate||0),this._isDeclarative&&u&&(P.rotate=u)),n.from(P),n.to(M);const st=n.at(C);return u=st.rotate,o=new E(st),this.addTransform(o),f._addRunner(this),n.done()}function O(C){(C.origin||"center").toString()!==(s.origin||"center").toString()&&(r=os(C,f)),s={...C,origin:r}}return this.queue(c,m,O,!0),this._isDeclarative&&this._rememberMorpher("transform",n),this},x(s){return this._queueNumber("x",s)},y(s){return this._queueNumber("y",s)},ax(s){return this._queueNumber("ax",s)},ay(s){return this._queueNumber("ay",s)},dx(s=0){return this._queueNumberDelta("x",s)},dy(s=0){return this._queueNumberDelta("y",s)},dmove(s,t){return this.dx(s).dy(t)},_queueNumberDelta(s,t){if(t=new I(t),this._tryRetarget(s,t))return this;const e=new Yt(this._stepper).to(t);let i=null;return this.queue(function(){i=this.element()[s](),e.from(i),e.to(i+t)},function(n){return this.element()[s](e.at(n)),e.done()},function(n){e.to(i+new I(n))}),this._rememberMorpher(s,e),this},_queueObject(s,t){if(this._tryRetarget(s,t))return this;const e=new Yt(this._stepper).to(t);return this.queue(function(){e.from(this.element()[s]())},function(i){return this.element()[s](e.at(i)),e.done()}),this._rememberMorpher(s,e),this},_queueNumber(s,t){return this._queueObject(s,new I(t))},cx(s){return this._queueNumber("cx",s)},cy(s){return this._queueNumber("cy",s)},move(s,t){return this.x(s).y(t)},amove(s,t){return this.ax(s).ay(t)},center(s,t){return this.cx(s).cy(t)},size(s,t){let e;return(!s||!t)&&(e=this._element.bbox()),s||(s=e.width/e.height*t),t||(t=e.height/e.width*s),this.width(s).height(t)},width(s){return this._queueNumber("width",s)},height(s){return this._queueNumber("height",s)},plot(s,t,e,i){if(arguments.length===4)return this.plot([s,t,e,i]);if(this._tryRetarget("plot",s))return this;const n=new Yt(this._stepper).type(this._element.MorphArray).to(s);return this.queue(function(){n.from(this._element.array())},function(r){return this._element.plot(n.at(r)),n.done()}),this._rememberMorpher("plot",n),this},leading(s){return this._queueNumber("leading",s)},viewbox(s,t,e,i){return this._queueObject("viewbox",new ot(s,t,e,i))},update(s){return typeof s!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(s.opacity!=null&&this.attr("stop-opacity",s.opacity),s.color!=null&&this.attr("stop-color",s.color),s.offset!=null&&this.attr("offset",s.offset),this)}});J(wt,{rx:Ns,ry:Es,from:Ji,to:qi});B(wt,"Runner");class Ms extends gt{constructor(t,e=t){super(Z("svg",t),e),this.namespace()}defs(){return this.isRoot()?Rt(this.node.querySelector("defs"))||this.put(new Cs):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof F.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:vs,version:"1.1"}).attr("xmlns:xlink",xe,es):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,es).attr("xmlns:svgjs",null,es)}root(){return this.isRoot()?this:super.root()}}j({Container:{nested:Q(function(){return this.put(new Ms)})}});B(Ms,"Svg",!0);let $s=class extends gt{constructor(t,e=t){super(Z("symbol",t),e)}};j({Container:{symbol:Q(function(){return this.put(new $s)})}});B($s,"Symbol");function Nh(s){return this._build===!1&&this.clear(),this.node.appendChild(F.document.createTextNode(s)),this}function Eh(){return this.node.getComputedTextLength()}function Oh(s,t=this.bbox()){return s==null?t.x:this.attr("x",this.attr("x")+s-t.x)}function kh(s,t=this.bbox()){return s==null?t.y:this.attr("y",this.attr("y")+s-t.y)}function zh(s,t,e=this.bbox()){return this.x(s,e).y(t,e)}function Mh(s,t=this.bbox()){return s==null?t.cx:this.attr("x",this.attr("x")+s-t.cx)}function $h(s,t=this.bbox()){return s==null?t.cy:this.attr("y",this.attr("y")+s-t.cy)}function Ih(s,t,e=this.bbox()){return this.cx(s,e).cy(t,e)}function jh(s){return this.attr("x",s)}function Dh(s){return this.attr("y",s)}function Lh(s,t){return this.ax(s).ay(t)}function Ph(s){return this._build=!!s,this}const Yi=Object.freeze(Object.defineProperty({__proto__:null,amove:Lh,ax:jh,ay:Dh,build:Ph,center:Ih,cx:Mh,cy:$h,length:Eh,move:zh,plain:Nh,x:Oh,y:kh},Symbol.toStringTag,{value:"Module"}));class Nt extends xt{constructor(t,e=t){super(Z("text",t),e),this.dom.leading=this.dom.leading??new I(1.3),this._rebuild=!0,this._build=!1}leading(t){return t==null?this.dom.leading:(this.dom.leading=new I(t),this.rebuild())}rebuild(t){if(typeof t=="boolean"&&(this._rebuild=t),this._rebuild){const e=this;let i=0;const n=this.dom.leading;this.each(function(r){if(as(this.node))return;const f=F.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=n*new I(f);this.dom.newLined&&(this.attr("x",e.attr("x")),this.text()===`
`?i+=o:(this.attr("dy",r?o+i:0),i=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new I(t.leading||1.3),this}writeDataToDom(){return Ti(this,this.dom,{leading:1.3}),this}text(t){if(t===void 0){const e=this.node.childNodes;let i=0;t="";for(let n=0,r=e.length;n<r;++n){if(e[n].nodeName==="textPath"||as(e[n])){n===0&&(i=n+1);continue}n!==i&&e[n].nodeType!==3&&Rt(e[n]).dom.newLined===!0&&(t+=`
`),t+=e[n].textContent}return t}if(this.clear().build(!0),typeof t=="function")t.call(this,this);else{t=(t+"").split(`
`);for(let e=0,i=t.length;e<i;e++)this.newLine(t[e])}return this.build(!1).rebuild()}}J(Nt,Yi);j({Container:{text:Q(function(s=""){return this.put(new Nt).text(s)}),plain:Q(function(s=""){return this.put(new Nt).plain(s)})}});B(Nt,"Text");class Ge extends xt{constructor(t,e=t){super(Z("tspan",t),e),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof Nt))return this;const e=t.index(this),i=F.window.getComputedStyle(this.node).getPropertyValue("font-size"),n=t.dom.leading*new I(i);return this.dy(e?n:0).attr("x",t.x())}text(t){return t==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof t=="function"?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}J(Ge,Yi);j({Tspan:{tspan:Q(function(s=""){const t=new Ge;return this._build||this.clear(),this.put(t).text(s)})},Text:{newLine:function(s=""){return this.tspan(s).newLine()}}});B(Ge,"Tspan");class Is extends xt{constructor(t,e=t){super(Z("circle",t),e)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new I(t).divide(2))}}J(Is,{x:Mi,y:$i,cx:Ii,cy:ji,width:Di,height:Li});j({Container:{circle:Q(function(s=0){return this.put(new Is).size(s).move(0,0)})}});B(Is,"Circle");class gs extends gt{constructor(t,e=t){super(Z("clipPath",t),e)}remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return fe("svg [clip-path*="+this.id()+"]")}}j({Container:{clip:Q(function(){return this.defs().put(new gs)})},Element:{clipper(){return this.reference("clip-path")},clipWith(s){const t=s instanceof gs?s:this.parent().clip().add(s);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}});B(gs,"ClipPath");class Wi extends Ot{constructor(t,e=t){super(Z("foreignObject",t),e)}}j({Container:{foreignObject:Q(function(s,t){return this.put(new Wi).size(s,t)})}});B(Wi,"ForeignObject");function Jh(s,t){return this.children().forEach(e=>{let i;try{i=e.node instanceof Hn().SVGSVGElement?new ot(e.attr(["x","y","width","height"])):e.bbox()}catch{return}const n=new E(e),r=n.translate(s,t).transform(n.inverse()),f=new V(i.x,i.y).transform(r);e.move(f.x,f.y)}),this}function qh(s){return this.dmove(s,0)}function Fh(s){return this.dmove(0,s)}function Bh(s,t=this.bbox()){return s==null?t.height:this.size(t.width,s,t)}function Hh(s=0,t=0,e=this.bbox()){const i=s-e.x,n=t-e.y;return this.dmove(i,n)}function Uh(s,t,e=this.bbox()){const i=he(this,s,t,e),n=i.width/e.width,r=i.height/e.height;return this.children().forEach(f=>{const o=new V(e).transform(new E(f).inverse());f.scale(n,r,o.x,o.y)}),this}function Gh(s,t=this.bbox()){return s==null?t.width:this.size(s,t.height,t)}function Yh(s,t=this.bbox()){return s==null?t.x:this.move(s,t.y,t)}function Wh(s,t=this.bbox()){return s==null?t.y:this.move(t.x,s,t)}const Vi=Object.freeze(Object.defineProperty({__proto__:null,dmove:Jh,dx:qh,dy:Fh,height:Bh,move:Hh,size:Uh,width:Gh,x:Yh,y:Wh},Symbol.toStringTag,{value:"Module"}));class js extends gt{constructor(t,e=t){super(Z("g",t),e)}}J(js,Vi);j({Container:{group:Q(function(){return this.put(new js)})}});B(js,"G");class Pe extends gt{constructor(t,e=t){super(Z("a",t),e)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,xe)}}J(Pe,Vi);j({Container:{link:Q(function(s){return this.put(new Pe).to(s)})},Element:{unlink(){const s=this.linker();if(!s)return this;const t=s.parent();if(!t)return this.remove();const e=t.index(s);return t.add(this,e),s.remove(),this},linkTo(s){let t=this.linker();return t||(t=new Pe,this.wrap(t)),typeof s=="function"?s.call(t,t):t.to(s),this},linker(){const s=this.parent();return s&&s.node.nodeName.toLowerCase()==="a"?s:null}}});B(Pe,"A");class ms extends gt{constructor(t,e=t){super(Z("mask",t),e)}remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return fe("svg [mask*="+this.id()+"]")}}j({Container:{mask:Q(function(){return this.defs().put(new ms)})},Element:{masker(){return this.reference("mask")},maskWith(s){const t=s instanceof ms?s:this.parent().mask().add(s);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}});B(ms,"Mask");class Xi extends Ot{constructor(t,e=t){super(Z("stop",t),e)}update(t){return(typeof t=="number"||t instanceof I)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",new I(t.offset)),this}}j({Gradient:{stop:function(s,t,e){return this.put(new Xi).update(s,t,e)}}});B(Xi,"Stop");function Vh(s,t){if(!s)return"";if(!t)return s;let e=s+"{";for(const i in t)e+=qn(i)+":"+t[i]+";";return e+="}",e}class ys extends Ot{constructor(t,e=t){super(Z("style",t),e)}addText(t=""){return this.node.textContent+=t,this}font(t,e,i={}){return this.rule("@font-face",{fontFamily:t,src:e,...i})}rule(t,e){return this.addText(Vh(t,e))}}j("Dom",{style(s,t){return this.put(new ys).rule(s,t)},fontface(s,t,e){return this.put(new ys).font(s,t,e)}});B(ys,"Style");class Ds extends Nt{constructor(t,e=t){super(Z("textPath",t),e)}array(){const t=this.track();return t?t.array():null}plot(t){const e=this.track();let i=null;return e&&(i=e.plot(t)),t==null?i:this}track(){return this.reference("href")}}j({Container:{textPath:Q(function(s,t){return s instanceof Nt||(s=this.text(s)),s.path(t)})},Text:{path:Q(function(s,t=!0){const e=new Ds;s instanceof oe||(s=this.defs().path(s)),e.attr("href","#"+s,xe);let i;if(t)for(;i=this.node.firstChild;)e.node.appendChild(i);return this.put(e)}),textPath(){return this.findOne("textPath")}},Path:{text:Q(function(s){return s instanceof Nt||(s=new Nt().addTo(this.parent()).text(s)),s.path(this)}),targets(){return fe("svg textPath").filter(s=>(s.attr("href")||"").includes(this.id()))}}});Ds.prototype.MorphArray=Qt;B(Ds,"TextPath");class Qi extends xt{constructor(t,e=t){super(Z("use",t),e)}use(t,e){return this.attr("href",(e||"")+"#"+t,xe)}}j({Container:{use:Q(function(s,t){return this.put(new Qi).use(s,t)})}});B(Qi,"Use");const Xh=_t;J([Ms,$s,He,ge,je],dt("viewbox"));J([me,Re,Te,oe],dt("marker"));J(Nt,dt("Text"));J(oe,dt("Path"));J(Cs,dt("Defs"));J([Nt,Ge],dt("Tspan"));J([Ue,Be,ve,wt],dt("radius"));J(be,dt("EventTarget"));J(Jt,dt("Dom"));J(Ot,dt("Element"));J(xt,dt("Shape"));J([gt,Pi],dt("Container"));J(ve,dt("Gradient"));J(wt,dt("Runner"));Xt.extend(Pn());gh([I,W,ot,E,re,qt,Qt,V]);mh();const Qh=`
svg {
  background-color: #fff;
}

.root text,
.root tspan {
  font: 12px Arial;
}

.root path {
  fill-opacity: 0;
  stroke-width: 2px;
  stroke: #000;
}

.root circle {
  fill: #6b6659;
  stroke-width: 2px;
  stroke: #000;
}

.anchor text,
.any-character text {
  fill: #fff;
}

.anchor rect,
.any-character rect {
  fill: #6b6659;
}

.escape text,
.charset-escape text,
.literal text {
  fill: #000;
}

.escape rect,
.charset-escape rect {
  fill: #bada55;
}

.literal rect {
  fill: #dae9e5;
}

.charset .charset-box {
  fill: #cbcbba;
}

.subexp .subexp-label tspan,
.charset .charset-label tspan,
.match-fragment .repeat-label tspan {
  font-size: 10px;
}

.repeat-label {
  cursor: help;
}

.subexp .subexp-label tspan,
.charset .charset-label tspan {
  dominant-baseline: text-after-edge;
}

.subexp .subexp-box {
  stroke: #bfbfbf;
  stroke-dasharray: 6, 2;
  stroke-width: 2px;
  fill-opacity: 0;
}

.quote {
  fill: #8c8c8c;
}
`.trim();function Zi(s){const t=s.bbox(),e=s.matrix();return t.transform(e)}function Zh(s){return new Promise(t=>{setTimeout(t,s)})}function Kh(){return Zh(0)}function Wt(s){const t=s;return t.ax==null&&(t.ax=s.x),t.ax2==null&&(t.ax2=s.x2),t.ay==null&&(t.ay=s.cy),t}function Ki(s,t){const e=s.map(n=>({bbox:Wt(n.bbox()),node:n})),i=e.reduce((n,{bbox:r})=>Math.max(n,r.ay),0);e.reduce((n,{node:r,bbox:f})=>(r.translate(n,i-f.ay),n+t+f.width),0)}function tn(s,t){const e=s.map(n=>({bbox:n.bbox(),node:n})),i=e.reduce((n,{bbox:r})=>Math.max(n,r.cx),0);e.reduce((n,{node:r,bbox:f})=>(r.translate(i-f.cx,n),n+t+f.height),0)}var ce=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(c){try{_(i.next(c))}catch(m){f(m)}}function u(c){try{_(i.throw(c))}catch(m){f(m)}}function _(c){c.done?r(c.value):n(c.value).then(o,u)}_((i=i.apply(s,t||[])).next())})};class mt{constructor(t,e){this.metadata=t,this.state=e instanceof mt?e.state:e}get type(){return this.metadata.type}get text(){return this.metadata.text}get offset(){return this.metadata.offset}get elements(){return this.metadata.elements}get anchor(){return{}}getAnchor(){return this.proxy?this.proxy.getAnchor():this.anchor}bbox(){const t=Zi(this.container),e=this.getAnchor();return Object.assign(Wt(t),e)}translate(t,e){return this.container.translate(t,e)}defer(t){return ce(this,void 0,void 0,function*(){if(yield Kh(),this.state.cancelRender)throw new Error("Render cancelled");return t})}render(t){return ce(this,void 0,void 0,function*(){return t&&(this.container=t,this.container.addClass(this.type)),this.proxy?this.proxy.render(this.container):(this.state.inc(),yield this.renderNode(),this.state.dec(),this)})}renderNode(){return ce(this,void 0,void 0,function*(){})}renderLabel(t,e={}){return ce(this,void 0,void 0,function*(){const i=this.container.group().addClass("label"),n=i.rect(),r=this.renderText(i,t);e.className&&i.addClass(e.className),yield this.defer();const f=r.bbox(),o=5;return r.translate(o,f.height/2+2*o),n.attr({width:f.width+2*o,height:f.height+2*o}),e.round&&n.attr({rx:e.round,ry:e.round}),i})}renderLabeledBox(t,e,i=0){return ce(this,void 0,void 0,function*(){const n=this.renderText(this.container,t),r=this.container.rect().attr({rx:3,ry:3});n.addClass(`${this.type}-label`).back(),r.addClass(`${this.type}-box`).back(),yield this.defer();const f=n.bbox(),o=e.bbox(),u=Math.max(o.width+i*2,f.width),_=o.height+i*2;n.translate(0,f.height),r.translate(0,f.height).attr({width:u,height:_}),e.translate(u/2-o.cx,f.height+i)})}renderText(t,e){const i=Array.isArray(e)?e:[e];return t.text(n=>{i.forEach(r=>n.tspan(r))})}}var tf=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(c){try{_(i.next(c))}catch(m){f(m)}}function u(c){try{_(i.throw(c))}catch(m){f(m)}}function _(c){c.done?r(c.value):n(c.value).then(o,u)}_((i=i.apply(s,t||[])).next())})};class ef extends mt{constructor(){super(...arguments),this.label=this.text==="^"?"Start of line":"End of line"}renderNode(){return tf(this,void 0,void 0,function*(){yield this.renderLabel(this.label,{className:this.type,round:3})})}}var sf=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(c){try{_(i.next(c))}catch(m){f(m)}}function u(c){try{_(i.throw(c))}catch(m){f(m)}}function _(c){c.done?r(c.value):n(c.value).then(o,u)}_((i=i.apply(s,t||[])).next())})};class nf extends mt{constructor(){super(...arguments),this.label="any character"}renderNode(){return sf(this,void 0,void 0,function*(){yield this.renderLabel(this.label,{round:3})})}}function rf(s){let t=s.toString(16).toUpperCase();return t.length<2&&(t=`0${t}`),`(0x${t})`}const en={b:["word boundary",-1,!1],B:["non-word boundary",-1,!1],d:["digit",-1,!1],D:["non-digit",-1,!1],f:["form feed",12,!0],n:["line feed",10,!0],r:["carriage return",13,!0],s:["white space",-1,!1],S:["non-white space",-1,!1],t:["tab",9,!0],v:["vertical tab",11,!0],w:["word",-1,!1],W:["non-word",-1,!1],1:["Back reference (group = 1)",-1,!1],2:["Back reference (group = 2)",-1,!1],3:["Back reference (group = 3)",-1,!1],4:["Back reference (group = 4)",-1,!1],5:["Back reference (group = 5)",-1,!1],6:["Back reference (group = 6)",-1,!1],7:["Back reference (group = 7)",-1,!1],8:["Back reference (group = 8)",-1,!1],9:["Back reference (group = 9)",-1,!1],0(s){return s?[`octal: ${s}`,parseInt(s,8),!0]:["null",0,!0]},c(s){return[`ctrl-${s.toUpperCase()}`,s.toUpperCase().charCodeAt(0)-64,!0]},x(s){return[`0x${s.toUpperCase()}`,parseInt(s,16),!1]},u(s){return[`U+${s.toUpperCase()}`,parseInt(s,16),!1]}};function hf(s,t,e){const i=s[t];return typeof i=="function"?i(e):i}var ff=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(c){try{_(i.next(c))}catch(m){f(m)}}function u(c){try{_(i.throw(c))}catch(m){f(m)}}function _(c){c.done?r(c.value):n(c.value).then(o,u)}_((i=i.apply(s,t||[])).next())})};class sn extends mt{constructor(t,e){super(t,e),this.mapping=en;const i=t.esc;this.code=i.code.text,this.arg=i.arg.text;const n=hf(this.mapping,this.code,this.arg);this.label=n[0],this.ordinal=n[1],n[2]&&(this.label=`${this.label} ${rf(this.ordinal)}`)}renderNode(){return ff(this,void 0,void 0,function*(){yield this.renderLabel(this.label,{round:3})})}}class of extends sn{constructor(){super(...arguments),this.mapping=Object.assign(Object.assign({},en),{b:["backspace",8,!0]})}}var af=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(c){try{_(i.next(c))}catch(m){f(m)}}function u(c){try{_(i.throw(c))}catch(m){f(m)}}function _(c){c.done?r(c.value):n(c.value).then(o,u)}_((i=i.apply(s,t||[])).next())})};class Je extends mt{constructor(t,e){super(t,e);const i=t.literal;this.label=i.text,this.order=this.label.charCodeAt(0)}renderNode(){return af(this,void 0,void 0,function*(){const t=["“",this.label,"”"],i=(yield this.renderLabel(t,{round:3})).find("tspan");i[0].addClass("quote"),i[2].addClass("quote")})}merge(t){this.label+=t.label}}var uf=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(c){try{_(i.next(c))}catch(m){f(m)}}function u(c){try{_(i.throw(c))}catch(m){f(m)}}function _(c){c.done?r(c.value):n(c.value).then(o,u)}_((i=i.apply(s,t||[])).next())})};class lf extends mt{constructor(t,e){if(super(t,e),this.first=new Je(t.first,this),this.last=new Je(t.last,this),this.first.order>this.last.order)throw new Error(`Range out of order in character class: ${this.text}`)}renderNode(){return uf(this,void 0,void 0,function*(){const t=[this.first,this.container.text("-"),this.last];yield Promise.all([this.first.render(this.container.group()),this.last.render(this.container.group())]),Ki(t,5)})}}var cf=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(c){try{_(i.next(c))}catch(m){f(m)}}function u(c){try{_(i.throw(c))}catch(m){f(m)}}function _(c){c.done?r(c.value):n(c.value).then(o,u)}_((i=i.apply(s,t||[])).next())})};class _f extends mt{constructor(t,e){super(t,e);const i=t.parts,n=t.invert;this.label=n.text==="^"?"None of:":"One of:";const r=[],f=[];i.elements.forEach(o=>{const u=`${o.type}:${o.text}`;r.includes(u)||(r.push(u),f.push(o))}),this.parts=f.map(o=>this.createPartNode(o)),this.text.match(/\\c[^a-zA-Z]/)&&this.state.warnings.push(`The character set "${this.text}" contains the \\c escape followed by a character other than A-Z. This can lead to different behavior depending on browser. The representation here is the most common interpretation.`)}get anchor(){const t=this.container.matrix(),e=Zi(this.partContainer);return{ay:new V(0,e.cy).transform(t).y}}createPartNode(t){const e=t.type,i=e==="charset-range"?lf:e==="charset-escape"?of:e==="literal"?Je:null;if(i)return new i(t,this);throw new Error(`Unknown node type: "${e}"`)}renderNode(){return cf(this,void 0,void 0,function*(){this.partContainer=this.container.group(),yield Promise.all(this.parts.map(t=>t.render(this.partContainer.group()))),tn(this.parts,5),yield this.renderLabeledBox(this.label,this.partContainer,5)})}}function ee(s){return s===1?"once":`${s} times`}class pf extends mt{constructor(t,e){super(t,e);const i=t.spec,n=t.greedy,{min:r,max:f}=i?i.specific():{min:-1,max:-2};this.greedy=n==null||n.text==="",this.hasSkip=r===0,this.hasLoop=f===-1||f>1,this.min=r,this.max=f}getContentOffset(){return this.hasSkip?{x:15,y:10}:this.hasLoop?{x:10,y:0}:{x:0,y:0}}getLabel(){const t=this.min,e=this.max;if(t===e)return t===0?void 0:ee(t-1);if(t<=1&&e>=2)return`at most ${ee(e-1)}`;if(t>=2)return e===-1?`${t-1}+ times`:`${t-1}…${ee(e-1)}`}getTooltip(){const t=this.min,e=this.max;let i;return t===e?t===0?i=void 0:i=ee(t):t<=1&&e>=2?i=`at most ${ee(e)}`:t>=2&&(e===-1?i=`${t}+ times`:i=`${t}…${ee(e)}`),i&&`repeats ${i} in total`}skipPath(t){const e=[];if(this.hasSkip){const i=Math.max(0,t.ay-t.y-10),n=t.width-10;e.push(`M0,${t.ay}q10,0 10,-10v${-i}q0,-10 10,-10h${n}q10,0 10,10v${i}q0,10 10,10`),this.greedy||e.push(`M10,${t.ay-15}l5,5m-5,-5l-5,5`)}return e}loopPath(t){const e=[];if(this.hasLoop){const i=t.y2-t.ay-10;e.push(`M${t.x},${t.ay}q-10,0 -10,10v${i}q0,10 10,10h${t.width}q10,0 10,-10v${-i}q0,-10 -10,-10`),this.greedy&&e.push(`M${t.x2+10},${t.ay+15}l5,-5m-5,5l-5,-5`)}return e}}var df=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(c){try{_(i.next(c))}catch(m){f(m)}}function u(c){try{_(i.throw(c))}catch(m){f(m)}}function _(c){c.done?r(c.value):n(c.value).then(o,u)}_((i=i.apply(s,t||[])).next())})};const gf={"?:":"","?=":"positive lookahead","?!":"negative lookahead"};class mf extends mt{constructor(t,e){super(t,e),this.capture=t.capture,this.regexp=new nn(t.regexp,this),this.capture.text==="?:"&&(this.proxy=this.regexp)}get anchor(){const t=this.regexp.bbox(),e=this.container.matrix(),i=new V(t.ax,t.ay).transform(e),n=new V(t.ax2,t.ay).transform(e);return{ax:i.x,ax2:n.x,ay:i.y}}renderNode(){return df(this,void 0,void 0,function*(){const t=this.label();yield this.regexp.render(this.container.group()),yield this.renderLabeledBox(t,this.regexp,10)})}label(){const t=gf[this.capture.text];return t||(this.state.groupCounter+=1,`group #${this.state.groupCounter}`)}}var yf=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(c){try{_(i.next(c))}catch(m){f(m)}}function u(c){try{_(i.throw(c))}catch(m){f(m)}}function _(c){c.done?r(c.value):n(c.value).then(o,u)}_((i=i.apply(s,t||[])).next())})};class wf extends mt{constructor(t,e){super(t,e),this.content=this.createContentNode(),this.repeat=new pf(t.repeat,this),!this.repeat.hasLoop&&!this.repeat.hasSkip?(this.canMerge=this.content.type==="literal",this.proxy=this.content):this.canMerge=!1}createContentNode(){const t=this.metadata.content,e=t.type,i=e==="anchor"?ef:e==="subexp"?mf:e==="charset"?_f:e==="any-character"?nf:e==="escape"?sn:e==="literal"?Je:null;if(i)return new i(t,this);throw new Error(`Unknow match fragment type: "${e}"`)}get anchor(){const t=this.content.bbox(),e=this.container.matrix(),i=new V(t.ax,t.ay).transform(e),n=new V(t.ax2,t.ay).transform(e);return{ax:i.x,ax2:n.x,ay:i.y}}renderNode(){return yf(this,void 0,void 0,function*(){yield this.content.render(this.container.group());const{x:t,y:e}=this.repeat.getContentOffset();this.content.translate(t,e);const i=this.content.bbox(),n=[...this.repeat.skipPath(i),...this.repeat.loopPath(i)];this.container.path(n.join("")).back(),this.renderLoopLabel()})}renderLoopLabel(){const t=this.repeat.getLabel(),e=this.repeat.getTooltip();if(t){const i=this.container.text(t).addClass("repeat-label"),n=i.bbox(),r=this.bbox();if(e){const f=ne("title");this.container.text(e).addTo(f),i.add(f)}i.translate(r.x2-n.width-(this.repeat.hasSkip?5:0),r.y2+n.height)}}}var xf=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(c){try{_(i.next(c))}catch(m){f(m)}}function u(c){try{_(i.throw(c))}catch(m){f(m)}}function _(c){c.done?r(c.value):n(c.value).then(o,u)}_((i=i.apply(s,t||[])).next())})};class bf extends mt{constructor(t,e){super(t,e);const i=this.metadata.parts;this.fragments=[];const n=this.fragments;i.elements.forEach(r=>{const f=n[n.length-1],o=new wf(r,this);f&&f.canMerge&&o.canMerge?f.content.merge(o.content):n.push(o)}),n.length===1&&(this.proxy=n[0])}get anchor(){const t=Wt(this.start.bbox()),e=Wt(this.end.bbox()),i=this.container.matrix(),n=new V(t.ax,t.ay).transform(i),r=new V(e.ax2,e.ay).transform(i);return{ax:n.x,ax2:r.x,ay:n.y}}renderNode(){return xf(this,void 0,void 0,function*(){const t=this.fragments.map(e=>e.render(this.container.group()));return t.length===0&&t.push(this.container.group().path("M0,0h10")),Promise.all(t).then(e=>{this.start=e[0],this.end=e[e.length-1],Ki(e,10),this.container.path(this.connectorPaths(e).join("")).back()})})}connectorPaths(t){let e=Wt(t[0].bbox()),i;return t.slice(1).map(n=>{i=Wt(n.bbox());const r=`M${e.ax2},${e.ay}H${i.ax}`;return e=i,r})}}var vf=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(c){try{_(i.next(c))}catch(m){f(m)}}function u(c){try{_(i.throw(c))}catch(m){f(m)}}function _(c){c.done?r(c.value):n(c.value).then(o,u)}_((i=i.apply(s,t||[])).next())})};class nn extends mt{constructor(t,e){super(t,e);const i=this.metadata.alternates;this.matches=[this.metadata.match].concat(i.elements.map(n=>n.match)).map(n=>new bf(n,this)),this.proxy=i.elements.length===0?this.matches[0]:null}renderNode(){return vf(this,void 0,void 0,function*(){const t=this.container.group().addClass(`${this.type}-matches`).translate(20,0),e=this.matches;yield Promise.all(e.map(f=>f.render(t.group()))),tn(e,5);let i=this.bbox();const n=[];e.forEach(f=>n.push(...this.makeCurve(i,f))),n.push(...this.makeSide(i,e[0])),n.push(...this.makeSide(i,e[e.length-1])),this.container.path(n.join("")).back(),i=Wt(t.bbox());const r=e.map(f=>this.makeConnector(i,f));t.path(r.join("")).back()})}makeSide(t,e){const i=e.bbox();if(Math.abs(i.ay-t.cy)>=15){const r=i.ay>t.cy?10:-10,f=i.ay-r;return[`M0,${t.cy}q10,0 10,${r}V${f}`,`M${t.width+40},${t.cy}q-10,0 -10,${r}V${f}`]}}makeCurve(t,e){const i=e.bbox();if(Math.abs(i.ay-t.cy)>=15){const f=i.ay>t.cy?10:-10;return[`M10,${i.ay-f}q0,${f} 10,${f}`,`M${t.width+30},${i.ay-f}q0,${f} -10,${f}`]}const r=i.ay-t.cy;return[`M0,${t.cy}c10,0 10,${r} 20,${r}`,`M${t.width+40},${t.cy}c-10,0 -10,${r} -20,${r}`]}makeConnector(t,e){const i=e.bbox();return`M0,${i.ay}h${i.ax}M${i.ax2},${i.ay}H${t.width}`}}var Sf=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(c){try{_(i.next(c))}catch(m){f(m)}}function u(c){try{_(i.throw(c))}catch(m){f(m)}}function _(c){c.done?r(c.value):n(c.value).then(o,u)}_((i=i.apply(s,t||[])).next())})};const Tf={i:"Ignore Case",g:"Global",m:"Multiline",y:"Sticky",u:"Unicode"};class Rf extends mt{constructor(t,e){super(t,e),this.regexp=new nn(this.metadata.regexp,this)}get flags(){return this.metadata.flags}renderNode(){return Sf(this,void 0,void 0,function*(){const t=[];this.flags.text.split("").forEach(f=>{t.includes(f)||t.push(f)});const e=t.sort().map(f=>Tf[f]);let i;e.length>0&&(i=this.container.text(`Flags: ${e.join(", ")}`)),yield this.regexp.render(this.container.group()),i?this.regexp.translate(10,i.bbox().height):this.regexp.translate(10,0);const n=this.regexp.bbox(),r=10;this.container.path(`M${n.ax},${n.ay}H0M${n.ax2},${n.ay}H${n.x2+10}`),this.container.circle(10).center(0,n.ay),this.container.circle(10).center(n.x2+r,n.ay)})}}class Af{constructor(t={}){this.groupCounter=0,this.cancelRender=!1,this.warnings=[],this.renderCounter=0,this.maxCounter=0,this.options=t}update(t){if(t>this.renderCounter&&(this.maxCounter=t),this.renderCounter=t,this.maxCounter&&!this.cancelRender){const e=this.options.onChange;if(e){const i=100-Math.round(100*this.renderCounter/this.maxCounter);e({progress:i})}}}inc(){this.update(this.renderCounter+1)}dec(){this.update(this.renderCounter-1)}}const Cf={specific(){return{min:0,max:-1}}},Nf={specific(){return{min:0,max:1}}},Ef={specific(){return{min:1,max:-1}}},Of={specific(){const s=this.min?+this.min.text:this.exact?+this.exact.text:0,t=this.max?+this.max.text:this.exact?+this.exact.text:-1;if(s>t&&t!==-1)throw new Error(`Numbers out of order: ${this.text}`);return{min:s,max:t}}};function kf(){return{Root:{type:"root"},Regexp:{type:"regexp"},Match:{type:"match"},MatchFragment:{type:"match-fragment"},Repeat:{type:"repeat"},RepeatSpec:Of,RepeatAny:Cf,RepeatOptional:Nf,RepeatRequired:Ef,Anchor:{type:"anchor"},Subexp:{type:"subexp"},Charset:{type:"charset"},CharsetRange:{type:"charset-range"},CharsetEscape:{type:"charset-escape"},Escape:{type:"escape"},Literal:{type:"literal"},AnyCharacter:{type:"any-character"}}}var zf=globalThis&&globalThis.__awaiter||function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(f){f(r)})}return new(e||(e=Promise))(function(r,f){function o(c){try{_(i.next(c))}catch(m){f(m)}}function u(c){try{_(i.throw(c))}catch(m){f(m)}}function _(c){c.done?r(c.value):n(c.value).then(o,u)}_((i=i.apply(s,t||[])).next())})};function Mf(s,t,e={}){return zf(this,void 0,void 0,function*(){const i=new Af(e),n=kf(),r=typeof s=="string"?s:s.toString(),f=Ln.parse(r,{types:n}),o=new Rf(f,i),u=Xh(t);u.defs().style().add(document.createTextNode(Qh)),yield o.render(u.group());const _=o.bbox();return o.translate(10-_.x,10-_.y),u.size(_.width+20,_.height+20),o})}function $f(s,t,e){let i=-1;const n=new RegExp(s,e),r=[];let f=n.exec(t);for(;f!==null&&!(n.lastIndex===i||f[0]==="");){const o=f.indices,u=[];Object.entries(f).forEach(([c,m])=>{c!=="0"&&c.match(/\d+/)&&u.push({name:c,value:m,start:o[Number(c)][0],end:o[Number(c)][1]})});const _=[];Object.entries(f.groups||{}).forEach(([c,m])=>{_.push({name:c,value:m,start:o.groups[c][0],end:o.groups[c][1]})}),r.push({index:f.index,value:f[0],captures:u,groups:_}),i=n.lastIndex,f=n.exec(t)}return r}const If={"max-w-600px":""},jf=X("span",{title:"Global search"},[pt("Global search. ("),X("code",null,"g"),pt(")")],-1),Df=X("span",{title:"Case-insensitive search"},[pt("Case-insensitive search. ("),X("code",null,"i"),pt(")")],-1),Lf=X("span",{title:"Allows ^ and $ to match next to newline characters."},[pt("Multiline("),X("code",null,"m"),pt(")")],-1),Pf=X("span",{title:"Allows . to match newline characters."},[pt("Singleline("),X("code",null,"s"),pt(")")],-1),Jf=X("span",{title:"Unicode; treat a pattern as a sequence of Unicode code points."},[pt("Unicode("),X("code",null,"u"),pt(")")],-1),qf=X("span",{title:"An upgrade to the u mode with more Unicode features."},[pt("Unicode Sets ("),X("code",null,"v"),pt(")")],-1),Ff=X("thead",null,[X("tr",null,[X("th",{scope:"col"}," Index in text "),X("th",{scope:"col"}," Value "),X("th",{scope:"col"}," Captures "),X("th",{scope:"col"}," Groups ")])],-1),Bf={style:{"white-space":"pre-wrap","word-break":"break-all"}},to=pi({__name:"regex-tester",setup(s){const t=xn({name:"regex",storageName:"regex-tester:regex",defaultValue:""}),e=Dt(""),i=Dt(!0),n=Dt(!1),r=Dt(!1),f=Dt(!0),o=Dt(!0),u=Dt(!1),_=Dt(),c=pn({source:t,rules:[{message:"Invalid regex: {0}",validator:C=>new RegExp(C),getErrorMessage:C=>""}]}),m=hs(()=>{let C="d";i.value&&(C+="g"),n.value&&(C+="i"),r.value&&(C+="m"),f.value&&(C+="s"),o.value?C+="u":u.value&&(C+="v");try{return $f(t.value,e.value,C)}catch{return[]}}),O=hs(()=>{try{return new Dn(new RegExp(t.value.replace(/\(\?\<[^\>]*\>/g,"(?:"))).gen()}catch{return""}});return dn(async()=>{const C=t.value,R=_.value?.shadow_root;if(R){for(;R.lastChild;)R.removeChild(R.lastChild);const D=document.createElementNS("http://www.w3.org/2000/svg","svg");try{await Mf(C,D)}catch{}R.appendChild(D)}}),(C,R)=>{const D=gn,M=hi("router-link"),P=bn,st=kn,rt=Rn,K=mn,yt=Tn,bt=yn,kt=hi("shadow-root");return zt(),Bt("div",If,[ut(K,{title:"Regex","mb-1":""},{default:ct(()=>[ut(D,{value:St(t),"onUpdate:value":R[0]||(R[0]=Y=>Lt(t)?t.value=Y:null),label:"Regex to test:",placeholder:"Put the regex to test",multiline:"",rows:"3",validation:St(c)},null,8,["value","validation"]),ut(M,{target:"_blank",to:"/regex-memo","mb-1":"","mt-1":""},{default:ct(()=>[pt(" See Regular Expression Cheatsheet ")]),_:1}),ut(st,null,{default:ct(()=>[ut(P,{checked:St(i),"onUpdate:checked":R[1]||(R[1]=Y=>Lt(i)?i.value=Y:null)},{default:ct(()=>[jf]),_:1},8,["checked"]),ut(P,{checked:St(n),"onUpdate:checked":R[2]||(R[2]=Y=>Lt(n)?n.value=Y:null)},{default:ct(()=>[Df]),_:1},8,["checked"]),ut(P,{checked:St(r),"onUpdate:checked":R[3]||(R[3]=Y=>Lt(r)?r.value=Y:null)},{default:ct(()=>[Lf]),_:1},8,["checked"]),ut(P,{checked:St(f),"onUpdate:checked":R[4]||(R[4]=Y=>Lt(f)?f.value=Y:null)},{default:ct(()=>[Pf]),_:1},8,["checked"]),ut(P,{checked:St(o),"onUpdate:checked":R[5]||(R[5]=Y=>Lt(o)?o.value=Y:null)},{default:ct(()=>[Jf]),_:1},8,["checked"]),ut(P,{checked:St(u),"onUpdate:checked":R[6]||(R[6]=Y=>Lt(u)?u.value=Y:null)},{default:ct(()=>[qf]),_:1},8,["checked"])]),_:1}),ut(rt),ut(D,{value:St(e),"onUpdate:value":R[7]||(R[7]=Y=>Lt(e)?e.value=Y:null),label:"Text to match:",placeholder:"Put the text to match",multiline:"",rows:"5"},null,8,["value"])]),_:1}),ut(K,{title:"Matches","mb-1":"","mt-3":""},{default:ct(()=>[St(m)?.length>0?(zt(),fi(yt,{key:0},{default:ct(()=>[Ff,X("tbody",null,[(zt(!0),Bt(Qe,null,Ze(St(m),Y=>(zt(),Bt("tr",{key:Y.index},[X("td",null,Ct(Y.index),1),X("td",null,Ct(Y.value),1),X("td",null,[X("ul",null,[(zt(!0),Bt(Qe,null,Ze(Y.captures,at=>(zt(),Bt("li",{key:at.name},' "'+Ct(at.name)+'" = '+Ct(at.value)+" ["+Ct(at.start)+" - "+Ct(at.end)+"] ",1))),128))])]),X("td",null,[X("ul",null,[(zt(!0),Bt(Qe,null,Ze(Y.groups,at=>(zt(),Bt("li",{key:at.name},' "'+Ct(at.name)+'" = '+Ct(at.value)+" ["+Ct(at.start)+" - "+Ct(at.end)+"] ",1))),128))])])]))),128))])]),_:1})):(zt(),fi(bt,{key:1},{default:ct(()=>[pt(" No match ")]),_:1}))]),_:1}),ut(K,{title:"Sample matching text","mt-3":""},{default:ct(()=>[X("pre",Bf,Ct(St(O)),1)]),_:1}),ut(K,{title:"Regex Diagram",style:{"overflow-x":"scroll"},"mt-3":""},{default:ct(()=>[ut(kt,{ref_key:"visualizerSVG",ref:_},{default:ct(()=>[pt("   ")]),_:1},512)]),_:1})])}}});export{to as default};
